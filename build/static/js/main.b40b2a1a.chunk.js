(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{107:function(e,t,a){e.exports=a.p+"static/media/threebackground.ccd5d78d.jpg"},108:function(e,t,a){e.exports=a.p+"static/media/clouds1.220d21dc.jpg"},109:function(e,t,a){e.exports=a.p+"static/media/clouds2.3bdaad83.jpg"},110:function(e,t,a){e.exports=a.p+"static/media/yinYang.bce89b8d.jpg"},111:function(e,t,a){e.exports=a.p+"static/media/earth.03827279.jpg"},112:function(e,t,a){e.exports=a.p+"static/media/metal.76d64929.jpg"},113:function(e,t,a){e.exports=a.p+"static/media/water.a198e7aa.jpg"},114:function(e,t,a){e.exports=a.p+"static/media/fire.219275a6.jpg"},115:function(e,t,a){e.exports=a.p+"static/media/wood.e57e2628.jpg"},143:function(e,t){},149:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),s=a(69),o=a.n(s),i=a(22),c=a(5),l=a(74),u=(a(86),a(50),Object(i.c)({loginMessage:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";switch((arguments.length>1?arguments[1]:void 0).type){case"CLEAR_LOGIN_ERROR":return"";case"LOGIN_INPUT_ERROR":return"Enter your username and password!";case"LOGIN_FAILED":return"Oops! The username and password didn't match. Try again!";case"LOGIN_FAILED_NO_CODE":return"Oops! Something went wrong! Is the server running?";default:return e}},registrationMessage:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";switch((arguments.length>1?arguments[1]:void 0).type){case"CLEAR_REGISTRATION_ERROR":return"";case"REGISTRATION_INPUT_ERROR":return"Choose a username and password!";case"REGISTRATION_FAILED":return"Oops! That didn't work. The username might already be taken. Try again!";default:return e}}})),p=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"login";switch((arguments.length>1?arguments[1]:void 0).type){case"SET_TO_LOGIN_MODE":return"login";case"SET_TO_REGISTER_MODE":return"register";default:return e}},d=Object(i.c)({userReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_USER":return t.payload;case"UNSET_USER":return{};default:return e}},userType:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_USER_TYPE":return t.payload;default:return e}}}),m=a(15),h=a(12),E=Object(i.c)({game:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_GAME":return t.payload;default:return e}},gameState:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"00",t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"UPDATE_GAME_STATE":return t.payload.newGameState;default:return e}},player:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_PLAYER":return Object(h.a)({},t.payload);default:return e}},journal:function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{intention:"",question_one:"",question_two:"",question_three:"",question_four:"",question_five:"",response_one:"",response_two:"",response_three:"",response_four:"",response_five:""},a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"UPDATE_JOURNAL_QUESTION":var n="question_".concat(a.payload.roundNumber),r="question_".concat(a.payload.roundNumber);return Object(h.a)({},t,(e={},Object(m.a)(e,n,a.payload.question),Object(m.a)(e,r,a.payload.response),e));case"UPDATE_INTENTION":case"UPDATE_JOURNAL_INTENTION":return Object(h.a)({},t,{intention:a.payload.intention});case"SET_JOURNAL":return a.payload;default:return t}},allPlayers:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_ALL_PLAYERS":return t.payload;default:return e}},roundNumber:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"0",t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"UPDATE_ROUND_NUMBER":return t.payload;default:return e}},selectedPlayer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_SELECTED_PLAYER":return t.payload.player;case"CLEAR_SELECTED_PLAYER":return{};default:return e}}}),f=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_CODE":return t.payload;default:return e}},g=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{originalCards:[],cards:[]},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_CARDS":return{originalCards:t.payload,cards:t.payload};case"CLEAR_CARD_FILTER":return Object(h.a)({},e,{cards:e.originalCards});case"FILTER_CARDS_BY_CATEGORY":return Object(h.a)({},e,{cards:e.originalCards.filter(function(e){return e.stage_id===Number(t.payload)})});case"FILTER_CARDS_BY_DECK":return Object(h.a)({},e,{cards:t.payload});case"SET_SPECIFIC_CARD":return Object(h.a)({},e,{card:{id:t.payload.id,stage_id:t.payload.stage_id,text:t.payload.text,type:t.payload.type}});default:return e}},b=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_GAMES":return t.payload;default:return e}},v=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_CHAT":return t.payload;default:return e}},y=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{decks:[],selectedDeck:{description:"no selected deck",cards:[]}},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_DECKS":return Object(h.a)({},e,{decks:t.payload});case"SET_SELECTED_DECK":return Object(h.a)({},e,{selectedDeck:{description:t.payload.description,cards:t.payload.cards_in_deck}});default:return e}},O=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SELECT_GAME":var a=!0,n=!1,r=void 0;try{for(var s,o=t.payload.games[Symbol.iterator]();!(a=(s=o.next()).done);a=!0){var i=s.value;if(i.id==Number(t.payload.id))return i}}catch(c){n=!0,r=c}finally{try{a||null==o.return||o.return()}finally{if(n)throw r}}case"CLEAR_SELECT_GAME":return{};default:return e}},C=Object(i.c)({errors:u,loginMode:p,user:d,game:E,gameCode:f,cards:g,games:b,chat:v,decks:y,selectedGame:O}),j=a(3),w=a.n(j),_=a(2),S=a(14),x=a.n(S),k=w.a.mark(A),T=w.a.mark(F),N=w.a.mark(R);function A(e){var t;return w.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,Object(_.c)({type:"CLEAR_LOGIN_ERROR"});case 3:return t={headers:{"Content-Type":"application/json"},withCredentials:!0},a.next=6,x.a.post("api/user/login",e.payload,t);case 6:return a.next=8,Object(_.c)({type:"FETCH_USER"});case 8:a.next=20;break;case 10:if(a.prev=10,a.t0=a.catch(0),console.log("Error with user login:",a.t0),401!==a.t0.response.status){a.next=18;break}return a.next=16,Object(_.c)({type:"LOGIN_FAILED"});case 16:a.next=20;break;case 18:return a.next=20,Object(_.c)({type:"LOGIN_FAILED_NO_CODE"});case 20:case"end":return a.stop()}},k,this,[[0,10]])}function F(e){var t;return w.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t={headers:{"Content-Type":"application/json"},withCredentials:!0},e.next=4,x.a.post("api/user/logout",t);case 4:return e.next=6,Object(_.c)({type:"UNSET_USER"});case 6:e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log("Error with user logout:",e.t0);case 11:case"end":return e.stop()}},T,this,[[0,8]])}function R(){return w.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(_.d)("LOGIN",A);case 2:return e.next=4,Object(_.d)("LOGOUT",F);case 4:case"end":return e.stop()}},N,this)}var I=R,D=w.a.mark(G),P=w.a.mark(L);function G(e){return w.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Object(_.c)({type:"CLEAR_REGISTRATION_ERROR"});case 3:return t.next=5,x.a.post("api/user/register",e.payload);case 5:return t.next=7,Object(_.c)({type:"LOGIN",payload:e.payload});case 7:return t.next=9,Object(_.c)({type:"SET_TO_LOGIN_MODE"});case 9:t.next=16;break;case 11:return t.prev=11,t.t0=t.catch(0),console.log("Error with user registration:",t.t0),t.next=16,Object(_.c)({type:"REGISTRATION_FAILED"});case 16:case"end":return t.stop()}},D,this,[[0,11]])}function L(){return w.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(_.d)("REGISTER",G);case 2:case"end":return e.stop()}},P,this)}var M=L,q=w.a.mark(U),z=w.a.mark(B);function U(){var e,t;return w.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,e={headers:{"Content-Type":"application/json"},withCredentials:!0},a.next=4,x.a.get("api/user",e);case 4:return t=a.sent,a.next=7,Object(_.c)({type:"SET_USER",payload:t.data});case 7:a.next=12;break;case 9:a.prev=9,a.t0=a.catch(0),console.log("User get request failed",a.t0);case 12:case"end":return a.stop()}},q,this,[[0,9]])}function B(){return w.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(_.d)("FETCH_USER",U);case 2:case"end":return e.stop()}},z,this)}var H=B,Y=w.a.mark(Q),J=w.a.mark(V),W=w.a.mark(X),K=w.a.mark(Z);function Q(e){var t;return w.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,Object(_.b)(x.a,{method:"GET",url:"/game/players",params:{id:e.payload}});case 3:return t=a.sent,a.next=6,Object(_.c)({type:"SET_ALL_PLAYERS",payload:t.data});case 6:a.next=11;break;case 8:a.prev=8,a.t0=a.catch(0),console.log("players get request failed",a.t0);case 11:case"end":return a.stop()}},Y,this,[[0,8]])}function V(e){var t;return w.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,Object(_.b)(x.a,{method:"GET",url:"/game/player",params:{id:e.payload}});case 3:return t=a.sent,a.next=6,Object(_.c)({type:"SET_PLAYER",payload:t.data});case 6:a.next=11;break;case 8:a.prev=8,a.t0=a.catch(0),console.log("player get request failed",a.t0);case 11:case"end":return a.stop()}},J,this,[[0,8]])}function X(e){var t;return w.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,Object(_.b)(x.a,{method:"GET",url:"/game/journal",params:{id:e.payload}});case 3:return t=a.sent,a.next=6,Object(_.c)({type:"SET_JOURNAL",payload:t.data});case 6:a.next=11;break;case 8:a.prev=8,a.t0=a.catch(0),console.log("journal get request failed",a.t0);case 11:case"end":return a.stop()}},W,this,[[0,8]])}function Z(){return w.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(_.d)("FETCH_PLAYERS",Q);case 2:return e.next=4,Object(_.d)("FETCH_PLAYER",V);case 4:return e.next=6,Object(_.d)("FETCH_JOURNAL",X);case 6:case"end":return e.stop()}},K,this)}var $=Z,ee=w.a.mark(ie),te=w.a.mark(ce),ae=w.a.mark(le),ne=w.a.mark(ue),re=w.a.mark(pe),se=w.a.mark(de),oe=w.a.mark(me);function ie(e){var t;return w.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,x.a.get("api/card");case 3:return t=e.sent,e.next=6,Object(_.c)({type:"SET_CARDS",payload:t.data});case 6:e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log("Error getting cards",e.t0);case 11:case"end":return e.stop()}},ee,this,[[0,8]])}function ce(e){var t;return w.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,x.a.get("api/card/".concat(e.payload));case 3:return t=a.sent,a.next=6,Object(_.c)({type:"SET_SPECIFIC_CARD",payload:t.data});case 6:a.next=11;break;case 8:a.prev=8,a.t0=a.catch(0),console.log("Error getting cards",a.t0);case 11:case"end":return a.stop()}},te,this,[[0,8]])}function le(e){return w.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,x.a.post("api/card",e.payload);case 3:return t.next=5,Object(_.c)({type:"FETCH_CARDS"});case 5:return t.next=7,Object(_.c)({type:"FETCH_DECKS"});case 7:t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),console.log("Error adding card: ",t.t0);case 12:case"end":return t.stop()}},ae,this,[[0,9]])}function ue(e){return w.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,x.a.put("api/card",e.payload);case 3:return t.next=5,Object(_.c)({type:"FETCH_CARDS"});case 5:t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),console.log("Error updating card: ",t.t0);case 10:case"end":return t.stop()}},ne,this,[[0,7]])}function pe(e){return w.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,x.a.delete("api/card/".concat(e.payload));case 3:return t.next=5,Object(_.c)({type:"FETCH_CARDS"});case 5:return t.next=7,Object(_.c)({type:"FETCH_DECKS"});case 7:t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),console.log("Error deleting card",t.t0);case 12:case"end":return t.stop()}},re,this,[[0,9]])}function de(e){var t;return w.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:if("0"===e.payload){a.next=14;break}return a.prev=1,a.next=4,x.a.get("api/deck/".concat(e.payload));case 4:return t=a.sent,a.next=7,Object(_.c)({type:"FILTER_CARDS_BY_DECK",payload:t.data});case 7:a.next=12;break;case 9:a.prev=9,a.t0=a.catch(1),console.log("Error getting cards",a.t0);case 12:a.next=16;break;case 14:return a.next=16,Object(_.c)({type:"CLEAR_CARD_FILTER"});case 16:case"end":return a.stop()}},se,this,[[1,9]])}function me(){return w.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(_.d)("FETCH_CARDS",ie);case 2:return e.next=4,Object(_.d)("FETCH_SPECIFIC_CARD",ce);case 4:return e.next=6,Object(_.d)("FETCH_DECK_CARDS",de);case 6:return e.next=8,Object(_.d)("ADD_CARD",le);case 8:return e.next=10,Object(_.d)("EDIT_CARD",ue);case 10:return e.next=12,Object(_.d)("DELETE_CARD",pe);case 12:case"end":return e.stop()}},oe,this)}var he=me,Ee=w.a.mark(be),fe=w.a.mark(ve),ge=w.a.mark(ye);function be(e){var t;return w.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(_.b)(x.a,{method:"GET",url:"/game/games"});case 3:return t=e.sent,e.next=6,Object(_.c)({type:"SET_GAMES",payload:t.data});case 6:e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log("games get request failed",e.t0);case 11:case"end":return e.stop()}},Ee,this,[[0,8]])}function ve(e){var t;return w.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,Object(_.b)(x.a,{method:"GET",url:"/game/game",params:{id:e.payload}});case 3:return t=a.sent,a.next=6,Object(_.c)({type:"SET_GAME",payload:t.data});case 6:a.next=11;break;case 8:a.prev=8,a.t0=a.catch(0),console.log("game get request failed",a.t0);case 11:case"end":return a.stop()}},fe,this,[[0,8]])}function ye(){return w.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(_.d)("FETCH_GAMES",be);case 2:return e.next=4,Object(_.d)("FETCH_GAME",ve);case 4:case"end":return e.stop()}},ge,this)}var Oe=ye,Ce=w.a.mark(_e),je=w.a.mark(Se),we=w.a.mark(xe);function _e(e){var t;return w.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,Object(_.b)(x.a,{method:"POST",url:"/game/rejoin",data:{type:"player",identifier:e.payload.code,name:e.payload.name}});case 3:return t=a.sent,console.log(t),a.next=7,Object(_.c)({type:"FETCH_PLAYER",payload:t.data.playerId});case 7:return a.next=9,Object(_.c)({type:"FETCH_PLAYERS",payload:t.data.gameId});case 9:return a.next=11,Object(_.c)({type:"FETCH_CHAT",payload:t.data.gameId});case 11:return a.next=13,Object(_.c)({type:"FETCH_JOURNAL",payload:t.data.journalId});case 13:return a.next=15,Object(_.c)({type:"UPDATE_GAME_STATE",payload:{newGameState:t.data.gameState}});case 15:return a.next=17,Object(_.c)({type:"UPDATE_ROUND_NUMBER",payload:t.data.gameState[0]});case 17:a.next=22;break;case 19:a.prev=19,a.t0=a.catch(0),console.log("rejoin game as player request failed",a.t0);case 22:case"end":return a.stop()}},Ce,this,[[0,19]])}function Se(e){var t;return w.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,Object(_.b)(x.a,{method:"POST",url:"/game/rejoin",data:{type:"facilitator",identifier:e.payload}});case 3:return t=a.sent,a.next=6,Object(_.c)({type:"FETCH_PLAYERS",payload:e.payload});case 6:return a.next=8,Object(_.c)({type:"FETCH_CHAT",payload:t.data.gameId});case 8:return a.next=10,Object(_.c)({type:"UPDATE_GAME_STATE",payload:{newGameState:t.data.gameState}});case 10:return a.next=12,Object(_.c)({type:"UPDATE_ROUND_NUMBER",payload:t.data.gameState[0]});case 12:a.next=17;break;case 14:a.prev=14,a.t0=a.catch(0),console.log("rejoin game as facilitator request failed",a.t0);case 17:case"end":return a.stop()}},je,this,[[0,14]])}function xe(){return w.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(_.d)("REJOIN_GAME_PLAYER",_e);case 2:return e.next=4,Object(_.d)("REJOIN_GAME_FACILITATOR",Se);case 4:case"end":return e.stop()}},we,this)}var ke=xe,Te=w.a.mark(Ae),Ne=w.a.mark(Fe);function Ae(e){var t;return w.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,Object(_.b)(x.a,{method:"GET",url:"/game/get/chat",params:{id:e.payload}});case 3:return t=a.sent,a.next=6,Object(_.c)({type:"SET_CHAT",payload:t.data});case 6:a.next=11;break;case 8:a.prev=8,a.t0=a.catch(0),console.log("chat get request failed",a.t0);case 11:case"end":return a.stop()}},Te,this,[[0,8]])}function Fe(){return w.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(_.d)("FETCH_CHAT",Ae);case 2:case"end":return e.stop()}},Ne,this)}var Re=Fe,Ie=w.a.mark(qe),De=w.a.mark(ze),Pe=w.a.mark(Ue),Ge=w.a.mark(Be),Le=w.a.mark(He),Me=w.a.mark(Ye);function qe(e){var t;return w.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,x.a.get("api/deck");case 3:return t=e.sent,e.next=6,Object(_.c)({type:"SET_DECKS",payload:t.data});case 6:e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log("Error getting decks",e.t0);case 11:case"end":return e.stop()}},Ie,this,[[0,8]])}function ze(e){var t;return w.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,x.a.get("api/deck/".concat(e.payload));case 3:return t=a.sent,a.next=6,Object(_.c)({type:"SET_SELECTED_DECK",payload:t.data});case 6:a.next=11;break;case 8:a.prev=8,a.t0=a.catch(0),console.log("Error getting selected deck",a.t0);case 11:case"end":return a.stop()}},De,this,[[0,8]])}function Ue(e){return w.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,x.a.post("api/deck",e.payload);case 3:return t.next=5,Object(_.c)({type:"FETCH_DECKS"});case 5:t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),console.log("Error updating deck: ",t.t0);case 10:case"end":return t.stop()}},Pe,this,[[0,7]])}function Be(e){return w.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,x.a.put("api/deck",e.payload);case 3:return t.next=5,Object(_.c)({type:"FETCH_DECKS"});case 5:t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),console.log("Error updating Deck: ",t.t0);case 10:case"end":return t.stop()}},Ge,this,[[0,7]])}function He(e){return w.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,x.a.delete("api/deck/".concat(e.payload));case 3:return t.next=5,Object(_.c)({type:"FETCH_DECK"});case 5:t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),console.log("Error deleting deck",t.t0);case 10:case"end":return t.stop()}},Le,this,[[0,7]])}function Ye(){return w.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(_.d)("FETCH_DECKS",qe);case 2:return e.next=4,Object(_.d)("SET_SELECTED_DECK",ze);case 4:return e.next=6,Object(_.d)("ADD_DECK",Ue);case 6:return e.next=8,Object(_.d)("EDIT_DECK",Be);case 8:return e.next=10,Object(_.d)("DELETE_DECK",He);case 10:case"end":return e.stop()}},Me,this)}var Je=Ye,We=w.a.mark(Ke);function Ke(){return w.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(_.a)([I(),M(),H(),$(),he(),Oe(),ke(),Re(),Je()]);case 2:case"end":return e.stop()}},We,this)}var Qe,Ve,Xe=a(6),Ze=a(7),$e=a(10),et=a(8),tt=a(9),at=a(152),nt=a(154),rt=a(153),st=a(151),ot=a(150),it=Object(c.b)()(function(e){return r.a.createElement("button",{className:e.className,onClick:function(){return e.dispatch({type:"LOGOUT"})}},"Log Out")}),ct=Object(c.b)(function(e){return{user:e.user}})(function(e){return r.a.createElement("div",{className:"nav"},r.a.createElement(ot.a,{to:"/home"},r.a.createElement("h2",{className:"nav-title"},"Your Wise Moves")),r.a.createElement("div",{className:"nav-right"},e.user.userReducer.id&&r.a.createElement(r.a.Fragment,null,r.a.createElement(ot.a,{className:"nav-link",to:"/cards"},"Cards"),r.a.createElement(ot.a,{className:"nav-link",to:"/admin"},"Admin"),r.a.createElement(it,{className:"nav-link"}))))}),lt=a(16),ut=a(13),pt=function(e){function t(e){var a;return Object(Xe.a)(this,t),(a=Object($e.a)(this,Object(et.a)(t).call(this,e))).speedArchitect=function(e,t){var a=[],n=[.01,.02,.04,.07,.12,.15,.18,.15,.12,.07,.04,.02,.01].map(function(e){return e/t}),r=0;a.push(r);var s=!0,o=!1,i=void 0;try{for(var c,l=n[Symbol.iterator]();!(s=(c=l.next()).done);s=!0)for(var u=c.value,p=0;p<t;p++)r+=e*u,a.push(parseInt(r))}catch(d){o=!0,i=d}finally{try{s||null==l.return||l.return()}finally{if(o)throw i}}return a},a.rotateBackground=function(e){a.background.rotation.z+=Math.PI/3/e},a.moveSphereForward=function(e){var t,n,r;1===e?(t=a.pointsMetalOutside,n=a.pointsMetalInside,r=a.metal):2===e?(t=a.pointsWaterOutside,n=a.pointsWaterInside,r=a.water):3===e?(t=a.pointsWoodOutside,n=a.pointsWoodInside,r=a.wood):4===e?(t=a.pointsFireOutside,n=a.pointsFireInside,r=a.fire):5===e&&(t=a.pointsEarthOutside,n=a.pointsEarthInside,r=a.earth);var s=a.speedArchitect(t.length,16);if(a.i<s.length-1&&!1===a.backwards){var o=t[s[a.i]],i=n[s[s.length-(a.i+1)]];r.position.x=o.x,r.position.y=o.y,r.position.z=o.z,a.yinYang.position.x=i.x,a.yinYang.position.y=i.y,a.yinYang.position.z=i.z,a.rotateBackground(s.length),a.i=a.i+1,requestAnimationFrame(function(){return a.moveSphereForward(e)})}else a.i===s.length-1&&!1===a.backwards&&(a.backwards=!0,r.position.x=t[t.length-1].x,r.position.y=t[t.length-1].y,r.position.z=t[t.length-1].z,a.yinYang.position.x=n[0].x,a.yinYang.position.y=n[0].y,a.yinYang.position.z=n[0].z,a.i--)},a.moveSphereBack=function(e){var t,n,r;1===e?(t=a.pointsMetalOutside,n=a.pointsMetalInside,r=a.metal):2===e?(t=a.pointsWaterOutside,n=a.pointsWaterInside,r=a.water):3===e?(t=a.pointsWoodOutside,n=a.pointsWoodInside,r=a.wood):4===e?(t=a.pointsFireOutside,n=a.pointsFireInside,r=a.fire):5===e&&(t=a.pointsEarthOutside,n=a.pointsEarthInside,r=a.earth);var s=a.speedArchitect(t.length,16);if(a.i>0&&!0===a.backwards){var o=n[s[a.i]],i=t[s[s.length-(a.i+1)]];r.position.x=o.x,r.position.y=o.y,r.position.z=o.z,a.yinYang.position.x=i.x,a.yinYang.position.y=i.y,a.yinYang.position.z=i.z,a.i--,requestAnimationFrame(function(){return a.moveSphereBack(e)})}else!0===a.backwards&&0===a.i&&(a.backwards=!1,a.counter=a.counter+1);5===e&&a.rotateBackground(s.length)},a.start=a.start.bind(Object(lt.a)(Object(lt.a)(a))),a.stop=a.stop.bind(Object(lt.a)(Object(lt.a)(a))),a.animate=a.animate.bind(Object(lt.a)(Object(lt.a)(a))),a.moveSphereForward=a.moveSphereForward.bind(Object(lt.a)(Object(lt.a)(a))),a.speedArchitect=a.speedArchitect.bind(Object(lt.a)(Object(lt.a)(a))),a}return Object(tt.a)(t,e),Object(Ze.a)(t,[{key:"componentDidMount",value:function(){this.i=0;this.counter=1;this.backwards=!1;var e=this.mount.clientWidth,t=this.mount.clientHeight,n=new ut.h,r=new ut.e(35,e/t,2,1e3);r.position.set(0,0,190);var s=new ut.l({antialias:!0});s.setViewport(0,0,200,200);var o=new ut.g(16777215,.4);o.position.set(-50,-15,100);var i=new ut.g(16777215,.4);i.position.set(50,15,100);var c=new ut.g(16777215,.8);c.position.set(-10,0,160);var l=new ut.g(16777215,.8);l.position.set(10,0,160);var u=new ut.g(16777215,.6);u.position.set(8,8,140),n.add(o,i,c,l,u);var p=(new ut.j).load(a(107)),d=new ut.f(800,800,32),m=new ut.c({map:p}),h=new ut.b(d,m);h.receiveShadow=!0,h.position.z=-20,h.position.y=-200,h.rotation.z=-Math.PI/6,n.add(h);var E=(new ut.j).load(a(108)),f=new ut.i(60,100,100),g=new ut.d({alphaMap:E}),b=new ut.b(f,g);g.transparent=!0;var v=(new ut.j).load(a(109)),y=new ut.i(90,100,100),O=new ut.d({alphaMap:v}),C=new ut.b(y,O);O.transparent=!0,n.add(b,C);var j=(new ut.j).load(a(110)),w=new ut.i(10,100,100),_=new ut.d({map:j,bumpMap:j}),S=new ut.b(w,_);S.overdraw=!0,S.castShadow=!0,S.receiveShadow=!0,n.add(S),S.position.set(0,0,120);var x=(new ut.j).load(a(111)),k=new ut.i(10,100,100),T=new ut.d({map:x,bumpMap:x}),N=new ut.b(k,T);N.overdraw=!0,N.castShadow=!0,n.add(N),N.position.set(0,-40,0);var A=(new ut.j).load(a(112)),F=new ut.i(10,100,100),R=new ut.d({map:A,bumpMap:A}),I=new ut.b(F,R);I.overdraw=!0,I.castShadow=!0,n.add(I),I.position.set(-38,-12,0);var D=(new ut.j).load(a(113)),P=new ut.i(10,100,100),G=new ut.d({map:D,bumpMap:D}),L=new ut.b(P,G);L.overdraw=!0,L.castShadow=!0,n.add(L),L.position.set(-24,32,0);var M=(new ut.j).load(a(114)),q=new ut.i(10,100,100),z=new ut.d({map:M,bumpMap:M}),U=new ut.b(q,z);U.overdraw=!0,U.castShadow=!0,n.add(U),U.position.set(38,-12,0);var B=(new ut.j).load(a(115)),H=new ut.i(10,100,100),Y=new ut.d({map:B,bumpMap:B}),J=new ut.b(H,Y);J.overdraw=!0,J.castShadow=!0,n.add(J),J.position.set(24,32,0);var W=function(e,t,a,n){return new ut.a(new ut.k(e.x,e.y,e.z),new ut.k(t.x,t.y,t.z),new ut.k(a.x,a.y,a.z),new ut.k(n.x,n.y,n.z)).getPoints(1256)},K=W({x:0,y:-40,z:0},{x:0,y:-30,z:30},{x:0,y:-30,z:70},{x:0,y:0,z:120}),Q=W({x:0,y:-40,z:0},{x:0,y:10,z:30},{x:0,y:10,z:70},{x:0,y:0,z:120}),V=W({x:38,y:-12,z:0},{x:29,y:-9,z:30},{x:29,y:-9,z:70},{x:0,y:0,z:120}),X=W({x:38,y:-12,z:0},{x:-10,y:3,z:30},{x:-10,y:3,z:70},{x:0,y:0,z:120}),Z=W({x:24,y:32,z:0},{x:18,y:24,z:30},{x:18,y:24,z:70},{x:0,y:0,z:120}),$=W({x:24,y:32,z:0},{x:-6,y:-8,z:30},{x:-6,y:-8,z:70},{x:0,y:0,z:120}),ee=W({x:-24,y:32,z:0},{x:-18,y:24,z:30},{x:-18,y:24,z:70},{x:0,y:0,z:120}),te=W({x:-24,y:32,z:0},{x:6,y:-8,z:30},{x:6,y:-8,z:70},{x:0,y:0,z:120}),ae=W({x:-38,y:-12,z:0},{x:-29,y:-9,z:30},{x:-29,y:-9,z:70},{x:0,y:0,z:120}),ne=W({x:-38,y:-12,z:0},{x:10,y:3,z:30},{x:10,y:3,z:70},{x:0,y:0,z:120});this.pointsEarthOutside=K,this.pointsEarthInside=Q,this.pointsWoodOutside=Z,this.pointsWoodInside=$,this.pointsFireOutside=V,this.pointsFireInside=X,this.pointsWaterOutside=ee,this.pointsWaterInside=te,this.pointsMetalOutside=ae,this.pointsMetalInside=ne,s.setClearColor("#112233"),s.setSize(e,t),this.scene=n,this.camera=r,this.renderer=s,this.background=h,this.clouds1=b,this.clouds2=C,this.yinYang=S,this.earth=N,this.fire=U,this.metal=I,this.water=L,this.wood=J,this.mount.appendChild(this.renderer.domElement),this.start()}},{key:"componentWillUnmount",value:function(){this.stop(),this.mount.removeChild(this.renderer.domElement)}},{key:"start",value:function(){this.frameId||(this.frameId=requestAnimationFrame(this.animate),console.log("frame id is:",this.frameId))}},{key:"stop",value:function(){cancelAnimationFrame(this.frameId)}},{key:"animate",value:function(){this.renderScene(),this.frameId=window.requestAnimationFrame(this.animate),this.camera.rotation.z-=4e-4,this.clouds1.rotation.y+=.001,this.clouds2.rotation.y+=.001,this.yinYang.rotation.y+=0,this.earth.rotation.y+=.001,this.fire.rotation.y+=.001,this.metal.rotation.y+=.001,this.water.rotation.y+=.001,this.wood.rotation.y+=.001}},{key:"renderScene",value:function(){this.renderer.render(this.scene,this.camera)}},{key:"render",value:function(){var e=this;return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{ref:function(t){e.mount=t},className:"myCanvas"}),r.a.cloneElement(this.props.children,{moveSphereForward:this.moveSphereForward,moveSphereBack:this.moveSphereBack}))}}]),t}(n.Component),dt=Object(c.b)(function(e){return{state:e}})(pt),mt=a(76),ht=function(e){function t(){var e,a;Object(Xe.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object($e.a)(this,(e=Object(et.a)(t)).call.apply(e,[this].concat(r)))).state={username:"",password:""},a.login=function(e){e.preventDefault(),a.state.username&&a.state.password?a.props.dispatch({type:"LOGIN",payload:{username:a.state.username,password:a.state.password}}):a.props.dispatch({type:"LOGIN_INPUT_ERROR"})},a.handleInputChangeFor=function(e){return function(t){a.setState(Object(m.a)({},e,t.target.value))}},a}return Object(tt.a)(t,e),Object(Ze.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("div",null,this.props.errors.loginMessage&&r.a.createElement("h2",{className:"alert",role:"alert"},this.props.errors.loginMessage),r.a.createElement("form",{onSubmit:this.login},r.a.createElement("h1",null,"Login"),r.a.createElement("div",null,r.a.createElement("label",{htmlFor:"username"},"Username:",r.a.createElement("input",{type:"text",name:"username",value:this.state.username,onChange:this.handleInputChangeFor("username")}))),r.a.createElement("div",null,r.a.createElement("label",{htmlFor:"password"},"Password:",r.a.createElement("input",{type:"password",name:"password",value:this.state.password,onChange:this.handleInputChangeFor("password")}))),r.a.createElement("div",null,r.a.createElement("input",{className:"log-in",type:"submit",name:"submit",value:"Log In"}))),r.a.createElement("center",null,r.a.createElement("button",{type:"button",className:"link-button",onClick:function(){e.props.dispatch({type:"SET_TO_REGISTER_MODE"})}},"Register"),r.a.createElement("br",null),r.a.createElement(ot.a,{to:"/game"},"To Game")))}}]),t}(n.Component),Et=Object(c.b)(function(e){return{errors:e.errors}})(ht),ft=function(e){return r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{for:e.name}," ",e.title," "),r.a.createElement("select",{id:e.name,name:e.name,value:e.value,onChange:e.handleChange,className:"form-control"},r.a.createElement("option",{value:"",disabled:!0},e.placeholder),e.options.map(function(e){return r.a.createElement("option",{key:e.value,value:e.value,label:e.label},e.label)})))},gt=function(e){function t(){var e,a;Object(Xe.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object($e.a)(this,(e=Object(et.a)(t)).call.apply(e,[this].concat(r)))).state={username:"",password:"",first_name:"",last_name:"",email:"",organization:"",phone_number:"",is_facilitator:"",is_admin:"",is_facilitator_options:[{value:!1,label:"False"},{value:!0,label:"True"}],is_admin_options:[{value:!1,label:"False"},{value:!0,label:"True"}]},a.registerUser=function(e){e.preventDefault(),a.state.username&&a.state.password?a.props.dispatch({type:"REGISTER",payload:{username:a.state.username,password:a.state.password,first_name:a.state.first_name,last_name:a.state.last_name,email:a.state.email,organization:a.state.organization,phone_number:a.state.phone_number,is_facilitator:a.state.is_facilitator,is_admin:a.state.is_admin}}):a.props.dispatch({type:"REGISTRATION_INPUT_ERROR"})},a.handleInputChangeFor=function(e){return function(t){a.setState(Object(m.a)({},e,t.target.value))}},a}return Object(tt.a)(t,e),Object(Ze.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("div",null,this.props.errors.registrationMessage&&r.a.createElement("h2",{className:"alert",role:"alert"},this.props.errors.registrationMessage),r.a.createElement("form",{onSubmit:this.registerUser},r.a.createElement("h1",null,"Register User"),r.a.createElement("div",null,r.a.createElement("label",{htmlFor:"username"},"Username:",r.a.createElement("input",{type:"text",name:"username",value:this.state.username,onChange:this.handleInputChangeFor("username")}))),r.a.createElement("div",null,r.a.createElement("label",{htmlFor:"password"},"Password:",r.a.createElement("input",{type:"password",name:"password",value:this.state.password,onChange:this.handleInputChangeFor("password")}))),r.a.createElement("div",null,r.a.createElement("label",{htmlFor:"first_name"},"First Name:",r.a.createElement("input",{type:"text",name:"first_name",value:this.state.first_name,onChange:this.handleInputChangeFor("first_name")}))),r.a.createElement("div",null,r.a.createElement("label",{htmlFor:"last_name"},"Last Name:",r.a.createElement("input",{type:"text",name:"last_name",value:this.state.last_name,onChange:this.handleInputChangeFor("last_name")}))),r.a.createElement("div",null,r.a.createElement("label",{htmlFor:"email"},"Email:",r.a.createElement("input",{type:"text",name:"email",value:this.state.email,onChange:this.handleInputChangeFor("email")}))),r.a.createElement("div",null,r.a.createElement("label",{htmlFor:"organization"},"Organization:",r.a.createElement("input",{type:"text",name:"organization",value:this.state.organization,onChange:this.handleInputChangeFor("organization")}))),r.a.createElement("div",null,r.a.createElement("label",{htmlFor:"phone_number"},"Phone Number:",r.a.createElement("input",{type:"number",name:"phone_number",value:this.state.phone_number,onChange:this.handleInputChangeFor("phone_number")}))),r.a.createElement("div",null,r.a.createElement("label",{htmlFor:"is_facilitator"},r.a.createElement(ft,{title:"Facilitator",name:"is_facilitator",options:this.state.is_facilitator_options,value:this.state.is_facilitator,placeholder:"True or False",handleChange:this.handleInputChangeFor("is_facilitator")}))),r.a.createElement("div",null,r.a.createElement("label",{htmlFor:"is_admin"},r.a.createElement(ft,{title:"Administrator",name:"is_admin",options:this.state.is_admin_options,value:this.state.is_admin,placeholder:"True or False",handleChange:this.handleInputChangeFor("is_admin")}))),r.a.createElement("div",null,r.a.createElement("input",{className:"register",type:"submit",name:"submit",value:"Register"}))),r.a.createElement("button",{type:"button",onClick:function(){e.props.dispatch({type:"SET_TO_LOGIN_MODE"})}},"Login"))}}]),t}(n.Component),bt=Object(c.b)(function(e){return{errors:e.errors}})(gt),vt=(Object(c.b)(function(e){return{user:e.user,loginMode:e.loginMode}})(function(e){var t,a=e.component,n=e.user,s=e.loginMode,o=Object(mt.a)(e,["component","user","loginMode"]);return t=n.id?a:"login"===s?Et:bt,r.a.createElement(st.a,Object.assign({},o,{component:t}))}),a(33)),yt=a.n(vt),Ot=function(e){function t(){var e,a;Object(Xe.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object($e.a)(this,(e=Object(et.a)(t)).call.apply(e,[this].concat(r)))).state={advance:{type:"advance",data:{newGameState:""},facilitatorId:1},join:{type:"join",data:{playerName:""}},journal:{type:"journal",data:{playerName:"",question:"",response:"",roundNumber:""}},discussion:{type:"discussion",data:{playerNumber:"",setTo:!0},facilitatorId:1},gameCode:""},a.testActionOne=function(e){e.preventDefault(),Qe.emit("moves",a.state.advance)},a.testActionTwo=function(e){e.preventDefault(),Qe.emit("join",a.state.join)},a.testActionThree=function(e){e.preventDefault(),Qe.emit("moves",a.state.journal)},a.testActionFour=function(e){e.preventDefault(),Qe.emit("moves",a.state.discussion)},a.startGame=function(){x()({method:"POST",data:{id:1},url:"/game/start",json:!0}).then(function(e){a.setState({gameCode:e.data.code}),(Qe=yt.a.connect("/".concat(a.state.gameCode))).on("moves",function(e){console.log("Back from server with",e)}),Qe.on("join",function(e){console.log("Back from server with",e)})}).catch(function(e){console.log(e)})},a.endGame=function(){x()({method:"POST",data:{id:1},url:"/game/end"})},a.handleAdvance=function(e){return function(t){a.setState({advance:Object(h.a)({},a.state.advance,{data:Object(h.a)({},a.state.advance.data,Object(m.a)({},e,t.target.value))})})}},a.handleJoin=function(e){return function(t){a.setState({join:Object(h.a)({},a.state.join,{data:Object(h.a)({},a.state.join.data,Object(m.a)({},e,t.target.value))})})}},a.handleJournal=function(e){return function(t){a.setState({journal:Object(h.a)({},a.state.journal,{data:Object(h.a)({},a.state.journal.data,Object(m.a)({},e,t.target.value))})})}},a.handleDiscussion=function(e){return function(t){a.setState({discussion:Object(h.a)({},a.state.discussion,{data:Object(h.a)({},a.state.discussion.data,Object(m.a)({},e,t.target.value))})})}},a}return Object(tt.a)(t,e),Object(Ze.a)(t,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("div",null,r.a.createElement("button",{onClick:this.startGame},"Start Game (only press one time)"),r.a.createElement("button",{onClick:this.endGame},"End Game"),r.a.createElement("form",{onSubmit:this.testActionOne},r.a.createElement("h2",null,"Advance"),r.a.createElement("input",{type:"text",onChange:this.handleAdvance("newGameState"),placeholder:"next game state",value:this.state.advance.data.newGameState}),r.a.createElement("input",{type:"submit"})),r.a.createElement("form",{onSubmit:this.testActionTwo},r.a.createElement("h2",null,"Join"),r.a.createElement("input",{type:"text",onChange:this.handleJoin("playerName"),placeholder:"player name",value:this.state.join.data.playerName}),r.a.createElement("input",{type:"submit"})),r.a.createElement("form",{onSubmit:this.testActionThree},r.a.createElement("h2",null,"Journal"),r.a.createElement("input",{type:"text",onChange:this.handleJournal("playerName"),placeholder:"playerName",value:this.state.journal.data.playerName}),r.a.createElement("input",{type:"text",onChange:this.handleJournal("question"),placeholder:"questionId",value:this.state.journal.data.question}),r.a.createElement("input",{type:"text",onChange:this.handleJournal("response"),placeholder:"response",value:this.state.journal.data.response}),r.a.createElement("input",{type:"text",onChange:this.handleJournal("roundNumber"),placeholder:"roundNumber (one, two) etc",value:this.state.journal.data.roundNumber}),r.a.createElement("input",{type:"submit"})),r.a.createElement("form",{onSubmit:this.testActionFour},r.a.createElement("h2",null,"Discussion"),r.a.createElement("input",{type:"text",onChange:this.handleDiscussion("playerNumber"),placeholder:"player number",value:this.state.discussion.data.playerNumber}),r.a.createElement("input",{type:"submit"}))),r.a.createElement("pre",null,JSON.stringify(this.state,null,2)))}}]),t}(n.Component),Ct=(Object(c.b)()(Ot),Object(c.b)(function(e){return{user:e.user}})(function(e){return r.a.createElement("div",null,r.a.createElement("h1",{id:"welcome"},"Welcome, ",e.user.username,"!"),r.a.createElement("p",null,"Your ID is: ",e.user.id),r.a.createElement(it,{className:"log-in"}))}),a(75)),jt=a(24),wt=a.n(jt),_t=function(e){function t(){var e,a;Object(Xe.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object($e.a)(this,(e=Object(et.a)(t)).call.apply(e,[this].concat(r)))).state={newContent:{stage_id:"1",text:""},editing:!1},a.componentDidMount=function(){a.props.question&&a.setState({newContent:{stage_id:a.props.question.stage_id,text:a.props.question.text,id:a.props.question.id},editing:!0})},a.handleChangeFor=function(e){return function(t){a.setState({newContent:Object(h.a)({},a.state.newContent,Object(m.a)({},e,t.target.value))})}},a.handleDelete=function(e){wt()({title:"Are you sure?",text:"You will not be able to recover this card.",icon:"warning",buttons:!0,dangerMode:!0}).then(function(t){t?(a.props.dispatch({type:"DELETE_CARD",payload:e}),wt()("Your card has been deleted.",{icon:"success"})):wt()("Your card is safe!")})},a.handleSubmit=function(e){e.preventDefault(),a.props.add?(a.props.dispatch({type:"ADD_CARD",payload:Object(h.a)({},a.state.newContent,{decksToAddTo:[]})}),a.setState({newContent:{stage_id:"1",text:""}})):a.props.dispatch({type:"EDIT_CARD",payload:a.state.newContent}),wt()(a.props.add?"Card Added":"Card Edited"),a.props.flipCard&&a.props.flipCard()},a}return Object(tt.a)(t,e),Object(Ze.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"question-form"},r.a.createElement("form",{onSubmit:this.handleSubmit},r.a.createElement("label",{htmlFor:"select"},"Select a movement: "),r.a.createElement("select",{name:"select",onChange:this.handleChangeFor("stage_id"),value:this.state.newContent.stage_id},r.a.createElement("option",{value:"1"},"Map"),r.a.createElement("option",{value:"2"},"Open"),r.a.createElement("option",{value:"3"},"Visualize"),r.a.createElement("option",{value:"4"},"Engage"),r.a.createElement("option",{value:"5"},"Sustain")),r.a.createElement("br",null),r.a.createElement("label",{htmlFor:"text"},"Type a question: "),r.a.createElement("br",null),r.a.createElement("textarea",{style:this.props.add?{width:"50%",marginLeft:"0",resize:"none"}:{width:"100%",height:"60px",marginLeft:"0",resize:"none"},name:"text",onChange:this.handleChangeFor("text"),value:this.state.newContent.text})),r.a.createElement("button",{onClick:this.handleSubmit},"Submit"),this.state.editing?r.a.createElement("button",{onClick:function(){return e.handleDelete(e.props.question.id)}},"Delete"):null)}}]),t}(n.Component),St=Object(c.b)()(_t),xt=function(e){function t(){var e,a;Object(Xe.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object($e.a)(this,(e=Object(et.a)(t)).call.apply(e,[this].concat(r)))).state={newContent:{stage_id:"",text:""},isFlipped:!1},a.flipCard=function(){return a.setState({isFlipped:!a.state.isFlipped})},a.classNameSwitch=function(e){switch(e){case"1":return"Map";case"2":return"Open";case"3":return"Visualize";case"4":return"Engage";case"5":return"Sustain";default:return e}},a}return Object(tt.a)(t,e),Object(Ze.a)(t,[{key:"componentDidMount",value:function(){this.setState({isFlipped:this.props.flipped,newContent:{stage_id:this.props.question.stage_id,text:this.props.question.text,id:this.props.question.id}})}},{key:"componentDidUpdate",value:function(e){this.props.flipped!==e.flipped&&this.flipCard()}},{key:"render",value:function(){var e=this;return this.props.question?r.a.createElement("div",{className:"scene ".concat(this.props.editable?null:"in-game"),onClick:this.props.editable?null:this.flipCard},r.a.createElement("div",{className:"card-wrapper ".concat(this.state.isFlipped?"is-flipped":null)},r.a.createElement("div",{onClick:function(){return e.flipCard()},className:"card-content card-front ".concat(this.classNameSwitch(String(this.props.question.stage_id)))},r.a.createElement("div",{className:"card-header"},r.a.createElement("h6",null,this.props.editable?this.props.question.type:"Your Intention "+this.props.question.intention)),r.a.createElement("div",null,r.a.createElement("h5",null,this.props.question.text))),r.a.createElement("div",{className:"card-content card-back ".concat(this.classNameSwitch(String(this.props.question.stage_id)))},this.props.editable?r.a.createElement("div",null,r.a.createElement(St,{flipCard:this.flipCard,question:this.props.question}),r.a.createElement("button",{onClick:function(){return e.flipCard()}},"Cancel Edit")):null))):null}}]),t}(n.Component),kt=Object(c.b)()(xt),Tt=function(e){function t(){var e,a;Object(Xe.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object($e.a)(this,(e=Object(et.a)(t)).call.apply(e,[this].concat(r)))).state={allCardsWithCheckBoxes:[],deckToAdd:{description:"",viewing:"false",cards:[]},cards:[],decks:[],filter:{categorySelected:"0",deckSelected:"0",searchText:""}},a.dispatchDeckToPost=function(){a.props.dispatch({type:"ADD_DECK",payload:{description:a.state.deckToAdd.description,cards_in_deck:a.state.deckToAdd.cards.map(function(e){return e.id})}}),a.setState({deckToAdd:Object(h.a)({},a.state.deckToAdd,{description:"",viewing:"false"})})},a.filterByText=function(e,t){return t.filter(function(t){return-1!==t.text.toLowerCase().search(e.toLowerCase())})},a.filterByCategory=function(e,t){var a=Number(e);return"0"===e?t:t.filter(function(e){return e.stage_id===a})},a.filterByDeck=function(e,t){var n=Number(e);return"0"===e?t:t.filter(function(e){return-1!==a.state.decks.filter(function(e){return e.id===n})[0].cards_in_deck.indexOf(e.id)})},a.combinedFilter=function(e){a.setState({cards:a.filterByText(e.searchText,a.filterByCategory(e.categorySelected,a.filterByDeck(e.deckSelected,a.props.cards.cards)))})},a.handleChangeFor=function(e,t){return function(n){a.setState(Object(m.a)({},t,Object(h.a)({},a.state[t],Object(m.a)({},e,n.target.value))))}},a.handleChangeForDeckCheckbox=function(e){return function(t){var n=Object(Ct.a)(a.state.allCardsWithCheckBoxes),r=n.findIndex(function(t){return t.id===e}),s=Object(h.a)({},n[r]);s.checked=t.target.checked,n[r]=s,a.setState({allCardsWithCheckBoxes:n})}},a}return Object(tt.a)(t,e),Object(Ze.a)(t,[{key:"componentDidMount",value:function(){this.props.dispatch({type:"FETCH_CARDS"}),this.props.dispatch({type:"FETCH_DECKS"})}},{key:"componentDidUpdate",value:function(e,t){this.props.cards.cards!==e.cards.cards&&(this.setState(Object(h.a)({},this.state,{cards:this.props.cards.cards,allCardsWithCheckBoxes:this.props.cards.cards.map(function(e){return Object(h.a)({},e,{checked:!1})})})),this.combinedFilter(this.state.filter)),this.props.decks.decks!==e.decks.decks&&(this.setState(Object(h.a)({},this.state,{decks:this.props.decks.decks,allCardsWithCheckBoxes:this.props.cards.cards.map(function(e){return Object(h.a)({},e,{checked:!1})})})),this.combinedFilter(this.state.filter)),this.state.filter!==t.filter&&this.combinedFilter(this.state.filter),this.state.allCardsWithCheckBoxes!==t.allCardsWithCheckBoxes&&this.setState({deckToAdd:Object(h.a)({},this.state.deckToAdd,{cards:this.state.allCardsWithCheckBoxes.filter(function(e){return!0===e.checked})})}),0===this.state.deckToAdd.cards.length&&1===t.deckToAdd.cards.length&&this.setState({deckToAdd:Object(h.a)({},this.state.deckToAdd,{description:"",viewing:"false"})}),"false"===this.state.deckToAdd.viewing&&"true"===t.deckToAdd.viewing&&this.setState({filter:{categorySelected:"0",deckSelected:"0",searchText:""}})}},{key:"render",value:function(){var e=this;return r.a.createElement("div",null,r.a.createElement("div",{className:"card-input-boxes"},r.a.createElement("div",{className:"add-question"},r.a.createElement("h2",null,"Add a new question here:"),r.a.createElement("div",null,r.a.createElement(St,{add:!0}))),r.a.createElement("div",{className:"card-filter-options"},r.a.createElement("h2",null,"Filter Options:"),"true"===this.state.deckToAdd.viewing?null:r.a.createElement("div",null,r.a.createElement("label",{htmlFor:"select"},"Filter By Category: "),r.a.createElement("select",{name:"select",onChange:this.handleChangeFor("categorySelected","filter"),value:this.state.filter.categorySelected},r.a.createElement("option",{value:"0"},"All Categories"),r.a.createElement("option",{value:"1"},"Map"),r.a.createElement("option",{value:"2"},"Open"),r.a.createElement("option",{value:"3"},"Visualize"),r.a.createElement("option",{value:"4"},"Engage"),r.a.createElement("option",{value:"5"},"Sustain")),r.a.createElement("label",{htmlFor:"select"},"Filter By Deck: "),r.a.createElement("select",{name:"select",onChange:this.handleChangeFor("deckSelected","filter"),value:this.state.deckSelected},r.a.createElement("option",{value:"0"},"All Cards"),this.props.decks.decks.map(function(e){return r.a.createElement("option",{key:e.id,value:"".concat(e.id)},e.description)})),r.a.createElement("input",{placeholder:"search for a card by content",onChange:this.handleChangeFor("searchText","filter")})),r.a.createElement("br",null),0===this.state.deckToAdd.cards.length?null:r.a.createElement(r.a.Fragment,null,r.a.createElement("label",{htmlFor:"cardsToAdd"},r.a.createElement("input",{style:{width:"20px"},name:"cardsToAdd",type:"radio",value:"true",checked:"true"===this.state.deckToAdd.viewing,onChange:this.handleChangeFor("viewing","deckToAdd")}),"see cards in deck to be added"),r.a.createElement("br",null),r.a.createElement("label",{htmlFor:"allCards"},r.a.createElement("input",{style:{width:"20px"},name:"allCards",type:"radio",value:"false",checked:"false"===this.state.deckToAdd.viewing,onChange:this.handleChangeFor("viewing","deckToAdd")}),"see all cards"),r.a.createElement("br",null),"true"===this.state.deckToAdd.viewing?r.a.createElement(r.a.Fragment,null,r.a.createElement("input",{type:"text",placeholder:"Name the new deck here",onChange:this.handleChangeFor("description","deckToAdd")}),r.a.createElement("button",{onClick:this.dispatchDeckToPost},"Add checked cards to deck")):null))),r.a.createElement("div",{className:"card-collection"},"false"===this.state.deckToAdd.viewing?this.state.cards.map(function(t){return r.a.createElement("div",{key:t.id,style:{margin:"4px"}},e.state.allCardsWithCheckBoxes===[]?null:r.a.createElement("label",{htmlFor:"addbox"},r.a.createElement("input",{name:"add-box",type:"checkbox",className:"card-checkbox",onChange:e.handleChangeForDeckCheckbox(t.id),checked:e.state.allCardsWithCheckBoxes[e.state.allCardsWithCheckBoxes.findIndex(function(e){return e.id===t.id})].checked}),"Check to add to a new deck"),r.a.createElement("br",null),r.a.createElement(kt,{question:t,editable:!0}))}):this.state.deckToAdd.cards.map(function(t){return r.a.createElement("div",{key:t.id,style:{margin:"4px"}},e.state.allCardsWithCheckBoxes===[]?null:r.a.createElement("label",{htmlFor:"addbox"},r.a.createElement("input",{name:"add-box",type:"checkbox",className:"card-checkbox",onChange:e.handleChangeForDeckCheckbox(t.id),checked:e.state.allCardsWithCheckBoxes[e.state.allCardsWithCheckBoxes.findIndex(function(e){return e.id===t.id})].checked}),"Check to remove"),r.a.createElement("br",null),r.a.createElement(kt,{question:t,editable:!0}))})))}}]),t}(n.Component),Nt=Object(c.b)(function(e){return{cards:e.cards,decks:e.decks}})(Tt),At=a(34),Ft=(a(148),function(e){return r.a.createElement("button",{style:e.style,className:"primary"==e.type?"btn btn-primary":"btn btn-secondary",onClick:e.action},e.title)}),Rt=function(e){function t(e){var a;return Object(Xe.a)(this,t),(a=Object($e.a)(this,Object(et.a)(t).call(this,e))).state={value:"false"},a.state={newFacilitator:{username:"",password:"",first_name:"",last_name:"",email:"",organization:"",phone_number:"",is_facilitator:"",is_admin:""},is_facilitator_options:[{value:!0,label:"True"},{value:!1,label:"False"}],is_admin_options:[{value:!0,label:"True"},{value:!1,label:"False"}]},"edit"===e.action&&(a.state.newFacilitator=e.facilitator),a.handleUpdate=a.handleUpdate.bind(Object(lt.a)(Object(lt.a)(a))),a.handleDeleteFacilitator=a.handleDeleteFacilitator.bind(Object(lt.a)(Object(lt.a)(a))),a.handleFormSubmit=a.handleFormSubmit.bind(Object(lt.a)(Object(lt.a)(a))),a.handleClearForm=a.handleClearForm.bind(Object(lt.a)(Object(lt.a)(a))),a.handleInput=a.handleInput.bind(Object(lt.a)(Object(lt.a)(a))),a}return Object(tt.a)(t,e),Object(Ze.a)(t,[{key:"handleInput",value:function(e){var t=this,a=e.target.value,n=e.target.name;this.setState(function(e){return{newFacilitator:Object(h.a)({},e.newFacilitator,Object(m.a)({},n,a))}},function(){return console.log(t.state.newFacilitator)})}},{key:"handleTextArea",value:function(e){var t=this;console.log("Inside handleTextArea");var a=e.target.value;this.setState(function(e){return{newFacilitator:Object(h.a)({},e.newFacilitator,{about:a})}},function(){return console.log(t.state.newFacilitator)})}},{key:"handleFormSubmit",value:function(e){var t=this;e.preventDefault(),console.log(this.state.newFacilitator),x.a.post("/api/user/register",Object(h.a)({},this.state.newFacilitator)).then(function(e){console.log("this is the response for add facilitator",e.status),201===e.status&&(t.handleClearForm(),wt()("Good job!","Your facilitator was added to the database!","success"))}).catch(function(e){console.log("error making get",e)})}},{key:"handleClearForm",value:function(){this.setState({newFacilitator:{username:"",password:"",first_name:"",last_name:"",email:"",organization:"",phone_number:"",is_facilitator:"",is_admin:""}})}},{key:"handleDeleteFacilitator",value:function(e){var t=this.state.newFacilitator.first_name,a=this.state.newFacilitator.last_name;wt()({title:"Are you sure?",text:"You will not be able to recover this file!",icon:"warning",buttons:!0,dangerMode:!0}).then(function(e){e?x.a.delete("/api/user/register",{data:{first_name:t,last_name:a}}).then(function(e){200===e.status&&wt()("Your file has been deleted!",{icon:"success"}),console.log("this is the response for the facilitator info",e)}).catch(function(e){console.log("error deleting facilitator",e)}):wt()("Your file is safe!")}),e.preventDefault()}},{key:"handleUpdate",value:function(e){e.preventDefault(),console.log(Object(h.a)({},this.state.newFacilitator,{id:this.props.facilitator.id})),x.a.put("/api/user/register/",Object(h.a)({},this.state.newFacilitator,{id:this.props.facilitator.id})).then(function(e){console.log("this is the response for update facilitator",e.status),200===e.status&&wt()("Your facilitator was updated in the database!","success")}).catch(function(e){console.log("error making update",e)})}},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("form",{className:"container-fluid",style:{height:"100%"},onSubmit:this.handleFormSubmit},r.a.createElement("div",{className:"row"},r.a.createElement("div",null,"Username:",r.a.createElement("label",null,r.a.createElement("input",{type:"text",name:"username",value:this.state.newFacilitator.username,onChange:this.handleInput,placeholder:"Username"}))),"add"===this.props.action&&r.a.createElement("div",null,"Password:",r.a.createElement("label",null,r.a.createElement("input",{type:"text",name:"password",value:this.state.newFacilitator.password,onChange:this.handleInput,placeholder:"Password"})))),r.a.createElement("div",{className:"row"},r.a.createElement("div",null,"First Name:",r.a.createElement("label",null,r.a.createElement("input",{type:"text",name:"first_name",value:this.state.newFacilitator.first_name,onChange:this.handleInput,placeholder:"First Name"}))),r.a.createElement("div",null,"Last Name:",r.a.createElement("label",null,r.a.createElement("input",{type:"text",name:"last_name",value:this.state.newFacilitator.last_name,onChange:this.handleInput,placeholder:"Last Name"})))),r.a.createElement("div",{className:"row"},r.a.createElement("div",null,"Email:",r.a.createElement("label",null,r.a.createElement("input",{type:"text",name:"email",value:this.state.newFacilitator.email,onChange:this.handleInput,placeholder:"Email"}))),r.a.createElement("div",null,"Organization:",r.a.createElement("label",null,r.a.createElement("input",{type:"text",name:"organization",value:this.state.newFacilitator.organization,onChange:this.handleInput,placeholder:"Organization"}))),r.a.createElement("div",null,"Phone Number:",r.a.createElement("label",null,r.a.createElement("input",{type:"text",name:"phone_number",value:this.state.newFacilitator.phone_number,onChange:this.handleInput,placeholder:"Phone Number"})))),r.a.createElement("div",{className:"row"},r.a.createElement("div",null,"Facilitator?",r.a.createElement("label",null,r.a.createElement(ft,{name:"is_facilitator",options:this.state.is_facilitator_options,value:this.state.newFacilitator.is_facilitator,placeholder:"True or False",handleChange:this.handleInput})))),r.a.createElement("div",{className:"row"},r.a.createElement("div",null,"Administrator?",r.a.createElement("label",null,r.a.createElement(ft,{name:"is_admin",options:this.state.is_admin_options,value:this.state.newFacilitator.is_admin,placeholder:"True or False",handleChange:this.handleInput})))),r.a.createElement(Ft,{action:"add"===this.props.action?this.handleFormSubmit:this.handleUpdate,type:"primary",title:"add"===this.props.action?"Submit":"Update",style:It})," ",r.a.createElement(Ft,{action:this.handleClearForm,type:"secondary",title:"Clear",style:It})," ","edit"===this.props.action?r.a.createElement(Ft,{action:this.handleDeleteFacilitator,type:"secondary",title:"Delete",style:It}):null))}}]),t}(n.Component),It={margin:"10px 10px 10px 10px"},Dt=Rt,Pt=function(e){function t(){var e,a;Object(Xe.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object($e.a)(this,(e=Object(et.a)(t)).call.apply(e,[this].concat(r)))).state={data:[]},a.getFacilitatorInfo=function(){x.a.get("/api/user/register/").then(function(e){console.log("this is the response for facilitators",e),a.setState(Object(h.a)({},a.state,{data:e.data})),console.log(a.state),console.log("I am here")}).catch(function(e){console.log("error making get",e)})},a}return Object(tt.a)(t,e),Object(Ze.a)(t,[{key:"componentDidMount",value:function(){this.getFacilitatorInfo()}},{key:"createHtmlForPanel",value:function(e){return r.a.createElement(At.AccordionItem,null,r.a.createElement(At.AccordionItemTitle,null,r.a.createElement("h4",null,e.first_name," ",e.last_name)),r.a.createElement(At.AccordionItemBody,null,r.a.createElement(Dt,{action:"edit",facilitator:e})))}},{key:"render",value:function(){var e=this,t=this.state.data.map(function(t){return e.createHtmlForPanel(t)});return console.log("HELLOOOOOO!!!!!!!!!!!!!!!!!!"),console.log(this.state.data),r.a.createElement("div",null,r.a.createElement("div",{className:"preAccordion"},r.a.createElement("h4",null,"1. To add a new facilitator to database, complete the form."),r.a.createElement("h4",null,"2. To edit a facilitator's status in the database, select a facilitator name below.")),r.a.createElement("div",{className:"preAccordion"},r.a.createElement("h4",null,"Add a new facilitator here:")),r.a.createElement("div",{className:"accordion"},r.a.createElement(Dt,{action:"add"})),r.a.createElement("div",{className:"accordion"},r.a.createElement(At.Accordion,null,t)),r.a.createElement("div",null))}}]),t}(n.Component),Gt=function(e){function t(){var e,a;Object(Xe.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object($e.a)(this,(e=Object(et.a)(t)).call.apply(e,[this].concat(r)))).state={email:"",emailSent:!1},a.handleChange=function(e){a.setState({email:e.target.value})},a.submitEmail=function(){x()({method:"POST",url:"/game/get/results",data:{email:a.state.email,id:a.props.state.game.player.id}}).then(function(e){a.setState({emailSent:!0})}).catch(function(e){alert(e)})},a}return Object(tt.a)(t,e),Object(Ze.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,this.state.emailSent?r.a.createElement("div",null,r.a.createElement("h1",null,"Thanks for playing"),r.a.createElement("h3",null,"Your results have been sent to your email: ",this.state.email)):r.a.createElement("div",null,r.a.createElement("h1",null,"Get Your Results"),r.a.createElement("h2",null,"Thanks for playing"),r.a.createElement("input",{type:"text",value:this.state.email,onChange:this.handleChange,placeholder:"Enter your email"}),r.a.createElement("button",{onClick:this.submitEmail},"Get Results")))}}]),t}(n.Component),Lt=Object(c.b)(function(e){return{state:e}})(Gt),Mt=a(48),qt=a(155),zt=function(e){function t(){return Object(Xe.a)(this,t),Object($e.a)(this,Object(et.a)(t).apply(this,arguments))}return Object(tt.a)(t,e),Object(Ze.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"threeContentContainer"},this.props.state.game.selectedPlayer&&this.props.state.game.selectedPlayer.id&&r.a.createElement("div",{className:"discussion-ball-container"},r.a.createElement("h2",null,"Selected Player"),r.a.createElement("h2",null,this.props.state.game.selectedPlayer.name),r.a.createElement("h3",null,"Intention: ",this.props.state.game.selectedPlayer.intention),r.a.createElement("h3",null,"Question: ",this.props.state.game.selectedPlayer.current_card),this.props.state.user.userReducer&&this.props.state.user.userReducer.is_facilitator&&r.a.createElement("button",{onClick:function(){return e.props.markDone(e.props.state.game.selectedPlayer)}},"Mark Complete")),this.props.state.user.userReducer&&this.props.state.user.userReducer.is_facilitator&&r.a.createElement("button",{onClick:function(){return e.props.advanceStage(e.props.calculateNextStage("0"),!0)}},"Next"))}}]),t}(n.Component),Ut=Object(c.b)(function(e){return{state:e}})(zt),Bt=function(e){function t(){return Object(Xe.a)(this,t),Object($e.a)(this,Object(et.a)(t).apply(this,arguments))}return Object(tt.a)(t,e),Object(Ze.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"threeContentContainer"},this.props.state.user.userReducer&&this.props.state.user.userReducer.is_facilitator&&r.a.createElement("button",{onClick:function(){e.props.dealCards(),e.props.advanceStage(e.props.calculateNextStage("1"))}},"Deal Cards"))}}]),t}(n.Component),Ht=Object(c.b)(function(e){return{state:e}})(Bt),Yt=function(e){function t(){return Object(Xe.a)(this,t),Object($e.a)(this,Object(et.a)(t).apply(this,arguments))}return Object(tt.a)(t,e),Object(Ze.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("div",null,this.props.state.user.userReducer&&this.props.state.user.userReducer.is_facilitator?r.a.createElement("div",{className:"threeContentContainer"},r.a.createElement("button",{onClick:function(){return e.props.advanceStage(e.props.calculateNextStage("2"))}},"Next")):r.a.createElement(r.a.Fragment,null,r.a.createElement(kt,{flipped:!0,question:{intention:this.props.state.game.player.intention,stage_id:this.props.state.game.gameState[0],text:this.props.state.game.player.current_card}})))}}]),t}(n.Component),Jt=Object(c.b)(function(e){return{state:e}})(Yt),Wt=function(e){function t(){return Object(Xe.a)(this,t),Object($e.a)(this,Object(et.a)(t).apply(this,arguments))}return Object(tt.a)(t,e),Object(Ze.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,"0"==this.props.state.game.gameState[1]&&r.a.createElement(Ht,{advanceStage:this.props.advanceStage,calculateNextStage:this.props.calculateNextStage,dealCards:this.props.dealCards}),"1"==this.props.state.game.gameState[1]&&r.a.createElement(Jt,{advanceStage:this.props.advanceStage,calculateNextStage:this.props.calculateNextStage,editJournal:this.props.editJournal,advanceToDiscussion:this.props.advanceToDiscussion}),"2"==this.props.state.game.gameState[1]&&r.a.createElement(Ut,{advanceStage:this.props.advanceStage,calculateNextStage:this.props.calculateNextStage,selectPlayer:this.props.selectPlayer,markDone:this.props.markDone}))}}]),t}(n.Component),Kt=Object(c.b)(function(e){return{state:e}})(Wt),Qt=function(e){function t(){return Object(Xe.a)(this,t),Object($e.a)(this,Object(et.a)(t).apply(this,arguments))}return Object(tt.a)(t,e),Object(Ze.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"threeContentContainer"},this.props.state.user.userReducer&&this.props.state.user.userReducer.is_facilitator&&r.a.createElement("button",{onClick:function(){e.props.endGame(!0)}},"Next"))}}]),t}(n.Component),Vt=Object(c.b)(function(e){return{state:e}})(Qt),Xt=function(e){function t(){return Object(Xe.a)(this,t),Object($e.a)(this,Object(et.a)(t).apply(this,arguments))}return Object(tt.a)(t,e),Object(Ze.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"threeContentContainer"},this.props.state.user.userReducer&&this.props.state.user.userReducer.is_facilitator?r.a.createElement("div",{className:"facilitator"},r.a.createElement("button",{onClick:function(){return e.props.advanceStage(e.props.calculateNextStage("0"))}},"Next")):null)}}]),t}(n.Component),Zt=Object(c.b)(function(e){return{state:e}})(Xt),$t=function(e){function t(){return Object(Xe.a)(this,t),Object($e.a)(this,Object(et.a)(t).apply(this,arguments))}return Object(tt.a)(t,e),Object(Ze.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"threeContentContainer"},this.props.state.user.userReducer&&this.props.state.user.userReducer.is_facilitator&&r.a.createElement("button",{onClick:function(){e.props.advanceStage(e.props.calculateNextStage("2"))}},"Next"))}}]),t}(n.Component),ea=Object(c.b)(function(e){return{state:e}})($t),ta=function(e){function t(){var e,a;Object(Xe.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object($e.a)(this,(e=Object(et.a)(t)).call.apply(e,[this].concat(r)))).state={intention:""},a.handleChange=function(e){a.setState({intention:e.target.value})},a}return Object(tt.a)(t,e),Object(Ze.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"threeContentContainer"},r.a.createElement("div",{className:"facilitator"},this.props.state.user.userReducer&&this.props.state.user.userReducer.is_facilitator?r.a.createElement("button",{onClick:function(){return e.props.advanceStage(e.props.calculateNextStage("1"))}},"Next"):null))}}]),t}(n.Component),aa=Object(c.b)(function(e){return{state:e}})(ta),na=function(e){function t(){return Object(Xe.a)(this,t),Object($e.a)(this,Object(et.a)(t).apply(this,arguments))}return Object(tt.a)(t,e),Object(Ze.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,"0"==this.props.state.game.gameState[1]&&r.a.createElement(aa,{advanceStage:this.props.advanceStage,calculateNextStage:this.props.calculateNextStage}),"1"==this.props.state.game.gameState[1]&&r.a.createElement(ea,{advanceStage:this.props.advanceStage,calculateNextStage:this.props.calculateNextStage}),"2"==this.props.state.game.gameState[1]&&r.a.createElement(Zt,{advanceStage:this.props.advanceStage,calculateNextStage:this.props.calculateNextStage,editIntention:this.props.editIntention}))}}]),t}(n.Component),ra=Object(c.b)(function(e){return{state:e}})(na),sa=function(e){function t(){var e,a;Object(Xe.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object($e.a)(this,(e=Object(et.a)(t)).call.apply(e,[this].concat(r)))).state={info:{player:"",code:""},joinRejoin:!1},a.handleChange=function(e){a.setState({info:Object(h.a)({},a.state.info,Object(m.a)({},e.target.name,e.target.value))})},a}return Object(tt.a)(t,e),Object(Ze.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"threeContentContainer"},r.a.createElement("button",{onClick:function(){return e.setState(Object(h.a)({},e.state,{joinRejoin:!e.state.joinRejoin}))}},this.state.joinRejoin?r.a.createElement("p",null,"Join Game"):r.a.createElement("p",null,"Re-Join Game")),r.a.createElement("label",null,"Player Name",r.a.createElement("input",{onChange:this.handleChange,placeholder:"Name",name:"player",value:this.state.player})),r.a.createElement("label",null,"Code",r.a.createElement("input",{onChange:this.handleChange,placeholder:"Code",name:"code",value:this.state.code})),this.state.joinRejoin?r.a.createElement("button",{onClick:function(){return e.props.joinGame(e.state.info.player,e.state.info.code,!0)}},"Re-Join Game"):r.a.createElement("button",{onClick:function(){return e.props.joinGame(e.state.info.player,e.state.info.code,!1)}},"Join Game"))}}]),t}(n.Component),oa=Object(c.b)(function(e){return{state:e}})(sa),ia=function(e){function t(){return Object(Xe.a)(this,t),Object($e.a)(this,Object(et.a)(t).apply(this,arguments))}return Object(tt.a)(t,e),Object(Ze.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"threeContentContainer"})}}]),t}(n.Component),ca=Object(c.b)(function(e){return{errors:e.errors}})(ia),la=function(e){function t(){return Object(Xe.a)(this,t),Object($e.a)(this,Object(et.a)(t).apply(this,arguments))}return Object(tt.a)(t,e),Object(Ze.a)(t,[{key:"componentDidMount",value:function(){this.props.dispatch({type:"FETCH_GAMES"})}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"threeContentContainer"},r.a.createElement("div",{className:"join-game-ball"},this.props.state.selectedGame&&this.props.state.selectedGame.id&&r.a.createElement("div",null,r.a.createElement("h4",{className:"join-game-ball"},this.props.state.selectedGame.name),r.a.createElement("h5",{className:"join-game-ball"},this.props.state.selectedGame.code),r.a.createElement("h6",{className:"join-game-ball"}," Players: ",this.props.state.selectedGame.active),r.a.createElement("button",{onClick:function(){return e.props.facilitatorJoinGame(e.props.state.selectedGame)}},"Join"),r.a.createElement("button",{onClick:function(){return e.props.endGame(!1)}},"End"))))}}]),t}(n.Component),ua=Object(c.b)(function(e){return{state:e}})(la),pa=function(e){function t(){var e,a;Object(Xe.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object($e.a)(this,(e=Object(et.a)(t)).call.apply(e,[this].concat(r)))).facilitator=function(){a.props.dispatch({type:"SET_USER_TYPE",payload:"facilitator"})},a.player=function(){a.props.dispatch({type:"SET_USER_TYPE",payload:"player"})},a}return Object(tt.a)(t,e),Object(Ze.a)(t,[{key:"componentDidMount",value:function(){var e=this;setTimeout(function(){e.props.state.user.userReducer&&e.props.state.user.userReducer.is_facilitator?e.props.dispatch({type:"SET_USER_TYPE",payload:"facilitator"}):e.props.dispatch({type:"SET_USER_TYPE",payload:"player"})},1e3)}},{key:"render",value:function(){return r.a.createElement("div",null,""===this.props.state.user.userType&&null,"player"===this.props.state.user.userType&&r.a.createElement("div",null,r.a.createElement(oa,{joinGame:this.props.joinGame,facilitator:this.facilitator})),"facilitator"===this.props.state.user.userType&&r.a.createElement("div",null,this.props.state.user.userReducer&&this.props.state.user.userReducer.is_facilitator?r.a.createElement(ua,{createGame:this.props.createGame,facilitatorJoinGame:this.props.facilitatorJoinGame,endGame:this.props.endGame}):r.a.createElement(ca,{player:this.player})))}}]),t}(n.Component),da=Object(c.b)(function(e){return{state:e}})(pa),ma=function(e){function t(){var e,a;Object(Xe.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object($e.a)(this,(e=Object(et.a)(t)).call.apply(e,[this].concat(r)))).openQuestionNumber=function(e){a.question_one.style.display="none",a.question_two.style.display="none",a.question_three.style.display="none",a.question_four.style.display="none",a.question_five.style.display="none",a.question_one_tab.classList.remove("journal-active"),a.question_two_tab.classList.remove("journal-active"),a.question_three_tab.classList.remove("journal-active"),a.question_four_tab.classList.remove("journal-active"),a.question_five_tab.classList.remove("journal-active"),a[e+"_tab"].classList.add("journal-active"),a[e].style.display="block"},a}return Object(tt.a)(t,e),Object(Ze.a)(t,[{key:"componentDidMount",value:function(){this.openQuestionNumber("question_one")}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"journal"},r.a.createElement("h3",null,"Journal"),r.a.createElement("div",{className:"tab"},r.a.createElement("button",{ref:function(t){return e.question_one_tab=t},className:"tablinks",onClick:function(){return e.openQuestionNumber("question_one")}},"Question One"),r.a.createElement("button",{ref:function(t){return e.question_two_tab=t},className:"tablinks",onClick:function(){return e.openQuestionNumber("question_two")}},"Question Two"),r.a.createElement("button",{ref:function(t){return e.question_three_tab=t},className:"tablinks",onClick:function(){return e.openQuestionNumber("question_three")}},"Question Three"),r.a.createElement("button",{ref:function(t){return e.question_four_tab=t},className:"tablinks",onClick:function(){return e.openQuestionNumber("question_four")}},"Question Four"),r.a.createElement("button",{ref:function(t){return e.question_five_tab=t},className:"tablinks",onClick:function(){return e.openQuestionNumber("question_five")}},"Question Five")),r.a.createElement("div",{id:"QuestionOne",ref:function(t){return e.question_one=t},className:"tabcontent"},r.a.createElement("h4",null,"Map Movement"),r.a.createElement("p",null,this.props.journal.question_one),r.a.createElement("p",null,this.props.journal.response_one)),r.a.createElement("div",{id:"QuestionTwo",ref:function(t){return e.question_two=t},className:"tabcontent"},r.a.createElement("h4",null,"Open Movement"),r.a.createElement("p",null,this.props.journal.question_two),r.a.createElement("p",null,this.props.journal.response_two)),r.a.createElement("div",{id:"QuestionThree",ref:function(t){return e.question_three=t},className:"tabcontent"},r.a.createElement("h4",null,"Visualize Movement"),r.a.createElement("p",null,this.props.journal.question_three),r.a.createElement("p",null,this.props.journal.response_three)),r.a.createElement("div",{id:"QuestionFour",ref:function(t){return e.question_four=t},className:"tabcontent"},r.a.createElement("h4",null,"Engage Movement"),r.a.createElement("p",null,this.props.journal.question_four),r.a.createElement("p",null,this.props.journal.response_four)),r.a.createElement("div",{id:"QuestionFive",ref:function(t){return e.question_five=t},className:"tabcontent"},r.a.createElement("h5",null,"Sustain Movement"),r.a.createElement("p",null,this.props.journal.question_five),r.a.createElement("p",null,this.props.journal.response_five)))}}]),t}(n.Component),ha=Object(c.b)(function(e){return{state:e,journal:e.game.journal}})(ma),Ea=function(e){function t(){var e,a;Object(Xe.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object($e.a)(this,(e=Object(et.a)(t)).call.apply(e,[this].concat(r)))).state={gameConfig:{name:"",deckId:"",maxPlayers:"",showDirections:""}},a.handleChange=function(e){a.setState({gameConfig:Object(h.a)({},a.state.gameConfig,Object(m.a)({},e.target.name,e.target.value))})},a}return Object(tt.a)(t,e),Object(Ze.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("div",null,this.props.state.game.game&&this.props.state.game.game.id?r.a.createElement(r.a.Fragment,null,r.a.createElement("h1",null,this.props.state.game.game.name),r.a.createElement("ul",null,r.a.createElement("li",null,"Deck ID:",this.props.state.game.game.deck_id),r.a.createElement("li",null,"Max Players:",this.props.state.game.game.max_players),this.props.state.game.game.can_kick&&r.a.createElement("li",null,"Can Kick"),this.props.state.game.game.show_directions&&r.a.createElement("li",null,"Show Directions"))):r.a.createElement(r.a.Fragment,null,r.a.createElement("h1",null,"New Game"),r.a.createElement("label",null,"Name your game!",r.a.createElement("br",null),r.a.createElement("input",{onChange:this.handleChange,placeholder:"Name",name:"name",value:this.state.name})),r.a.createElement("br",null),r.a.createElement("div",{className:"select-container"},r.a.createElement("label",null,"Choose your deck.",r.a.createElement("select",{onChange:this.handleChange,name:"deckId",value:this.state.gameConfig.deckId},r.a.createElement("option",null,"choose an option"),this.props.state.decks.decks.map(function(e){return r.a.createElement("option",{value:e.id},e.description)})))),r.a.createElement("br",null),r.a.createElement("div",{className:"select-container"},r.a.createElement("label",null,"Set max player count",r.a.createElement("select",{onChange:this.handleChange,value:this.state.gameConfig.maxPlayers,name:"maxPlayers"},r.a.createElement("option",null,"choose an option"),r.a.createElement("option",{value:4},"Four"),r.a.createElement("option",{value:5},"Five"),r.a.createElement("option",{value:6},"Six"),r.a.createElement("option",{value:7},"Seven"),r.a.createElement("option",{value:8},"Eight")))),r.a.createElement("br",null),r.a.createElement("div",{className:"select-container"},r.a.createElement("label",null,"Show directions in chat?",r.a.createElement("select",{onChange:this.handleChange,value:this.state.gameConfig.showDirections,name:"showDirections"},r.a.createElement("option",null,"choose an option"),r.a.createElement("option",{value:!0},"yes"),r.a.createElement("option",{value:!1},"no")))),r.a.createElement("br",null),r.a.createElement("button",{onClick:function(){e.props.createGame(e.state.gameConfig),e.setState({gameConfig:{name:"",deckId:"",maxPlayers:"",canKick:"",showDirections:""}})}},"Create A New Game")))}}]),t}(n.Component),fa=Object(c.b)(function(e){return{state:e}})(Ea),ga=function(e){function t(){return Object(Xe.a)(this,t),Object($e.a)(this,Object(et.a)(t).apply(this,arguments))}return Object(tt.a)(t,e),Object(Ze.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("div",{className:"PlayInstructions topSquare"},r.a.createElement("h1",{className:"PlayInstructions"},"Your Wise Moves\u2122"),r.a.createElement("p",{className:"PlayInstructions"},"The objective of the game is to ignite your wisdom, align your intuition and purpose, and clarify your way forward. This fun, fresh approach brings awareness in the area you choose for enhanced life, work and relationships. Play it to energize and renew yourself to wisely move forward and est intentions into motion.")),r.a.createElement("div",{className:"PlayInstructions bottomSquare"},r.a.createElement("ul",{className:"PlayInstructions"},r.a.createElement("h2",{className:"PlayInstructions"},"Are you ready to play the game?"),r.a.createElement("li",null,"Do you want clarity about your current vision?"),r.a.createElement("li",null,"Do you have goals you'd like to further?"),r.a.createElement("li",null,"Would you like to release obstacles and increase your creative energy?"),r.a.createElement("li",null,"Do you want to discover each other's passions?"),r.a.createElement("li",null,"Are you willing to share your thoughts with others playing the game and receive helpful perspectives?"))))}}]),t}(n.Component),ba=Object(c.b)(function(e){return{state:e}})(ga),va=function(e){function t(){var e,a;Object(Xe.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object($e.a)(this,(e=Object(et.a)(t)).call.apply(e,[this].concat(r)))).state={trigger:!1},a.triggerSidebar=function(e){!1===a.state.trigger?(console.log("Hello"),a.sidebar.className="sidebar showSidebar",e.target.className="sidebarButton moveSidebarButton",a.setState({trigger:!a.state.trigger})):(console.log("goodbye"),e.target.className="sidebarButton moveSidebarButtonBack",a.sidebar.className="sidebar hideSidebar",a.setState({trigger:!a.state.trigger}))},a}return Object(tt.a)(t,e),Object(Ze.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("div",null,r.a.createElement("button",{className:"sidebarButton",onClick:this.triggerSidebar},"Side Bar"),r.a.createElement("div",{ref:function(t){return e.sidebar=t},className:"sidebar"},this.props.state.user.userReducer&&this.props.state.user.userReducer.is_facilitator?r.a.createElement(fa,{createGame:this.props.createGame}):this.props.state.game.game&&this.props.state.game.game.id?r.a.createElement(ha,null):r.a.createElement(ba,null)))}}]),t}(n.Component),ya=Object(c.b)(function(e){return{state:e}})(va),Oa=function(e){function t(){var e,a;Object(Xe.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object($e.a)(this,(e=Object(et.a)(t)).call.apply(e,[this].concat(r)))).state={newMessage:"",trigger:!1},a.triggerChatPanel=function(e){console.log(a.state.trigger),!1===a.state.trigger?(a.chatPanel.className="chatPanel showChatPanel",e.target.className="chatPanelButton moveChatPanelButton",a.setState({trigger:!a.state.trigger})):(e.target.className="chatPanelButton moveChatPanelButtonBack",a.chatPanel.className="chatPanel hideChatPanel",a.setState({trigger:!a.state.trigger}))},a.handleChange=function(e){a.setState(Object(h.a)({},a.state,{newMessage:e.target.value}))},a.messageSubmit=function(e){e.preventDefault(),console.log("submit"),a.props.sendMessage(a.state.newMessage),a.setState({newMessage:""})},a}return Object(tt.a)(t,e),Object(Ze.a)(t,[{key:"scrollToBottom",value:function(){var e=this.chatBox.scrollHeight-this.chatBox.clientHeight;this.chatBox.scrollTop=e>0?e:0}},{key:"componentDidMount",value:function(){this.props.state.game.game&&this.props.state.game.game.id&&this.scrollToBottom()}},{key:"componentDidUpdate",value:function(){this.props.state.game.game&&this.props.state.game.game.id&&this.scrollToBottom()}},{key:"render",value:function(){var e=this;return this.props.state.game.game&&this.props.state.game.game.id?r.a.createElement("div",null,r.a.createElement("button",{className:"chatPanelButton",onClick:this.triggerChatPanel},"Chat Panel"),r.a.createElement("div",{className:"chatPanel",ref:function(t){return e.chatPanel=t}},r.a.createElement("h4",{className:"chatHeader"},"Game Chat"),r.a.createElement("ul",{className:"messageHistory",ref:function(t){return e.chatBox=t}},this.props.state.chat.map(function(e){var t;return"guide"===e.from&&(t+=" messageGreen"),r.a.createElement("li",{className:"message",key:e.id},r.a.createElement("span",{className:"chatName capitalize"},e.from,":")," ",r.a.createElement("span",{className:t},e.text))})),r.a.createElement("div",{style:{float:"left",clear:"both"},ref:function(t){e.messagesEnd=t}}),r.a.createElement("form",{className:"messageInput",onSubmit:this.messageSubmit},r.a.createElement("input",{type:"text",placeholder:"your message here",onChange:this.handleChange,value:this.state.newMessage,className:"messageText"}),r.a.createElement("button",{type:"submit",className:"messageSubmit"},"Submit")))):null}}]),t}(n.Component),Ca=Object(c.b)(function(e){return{state:e}})(Oa),ja=function(e){function t(){var e,a;Object(Xe.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object($e.a)(this,(e=Object(et.a)(t)).call.apply(e,[this].concat(r)))).state={trigger:!1,username:"",password:"",intention:"",response:""},a.triggerActionPanel=function(e){console.log(a.state.trigger),!1===a.state.trigger?(a.actionPanel.className="actionPanel showActionPanel",e.target.className="actionPanelButton moveActionPanelButton",a.setState({trigger:!a.state.trigger})):(e.target.className="actionPanelButton moveActionPanelButtonBack",a.actionPanel.className="actionPanel hideActionPanel",a.setState({trigger:!a.state.trigger}))},a.selectGame=function(e){a.props.dispatch({type:"CLEAR_SELECT_GAME"}),a.props.dispatch({type:"SELECT_GAME",payload:{id:e.target.value,games:a.props.state.games}})},a.login=function(e){e.preventDefault(),a.state.username&&a.state.password?a.props.dispatch({type:"LOGIN",payload:{username:a.state.username,password:a.state.password}}):a.props.dispatch({type:"LOGIN_INPUT_ERROR"})},a.handleInputChangeFor=function(e){return function(t){a.setState(Object(m.a)({},e,t.target.value))}},a}return Object(tt.a)(t,e),Object(Ze.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("div",null,r.a.createElement("button",{className:"actionPanelButton",onClick:this.triggerActionPanel},"Action Panel"),r.a.createElement("div",{ref:function(t){return e.actionPanel=t},className:"actionPanel"},r.a.createElement("h4",null,this.props.state.game.game.code),"0"===this.props.state.game.gameState[0]&&""!==this.props.state.gameCode?r.a.createElement("div",null,"0"==this.props.state.game.gameState[1]&&r.a.createElement("div",null,r.a.createElement("h1",null,"Game Lobby"),r.a.createElement("ol",null,this.props.state.game.allPlayers.map(function(e){if(e.in_game)return r.a.createElement("li",{key:e.id},e.name)}))),"1"==this.props.state.game.gameState[1]&&r.a.createElement("div",null,r.a.createElement("h1",null,"Intention Intro")),"2"==this.props.state.game.gameState[1]&&r.a.createElement("div",null,r.a.createElement("h1",null,"Intention Input"),this.props.state.user.userReducer&&this.props.state.user.userReducer.is_facilitator?r.a.createElement("div",{className:"facilitator"},r.a.createElement("ol",null,this.props.state.game.allPlayers.map(function(e){return r.a.createElement("li",{key:e.id},e.name," Intention:",e.intention?r.a.createElement("p",null,"Yes"):r.a.createElement("p",null,"No"))}))):r.a.createElement("div",null,r.a.createElement("textarea",{type:"text",placeholder:"Set your Intention or Question",onChange:this.handleInputChangeFor("intention")}),r.a.createElement("button",{onClick:function(){return e.props.editIntention(e.state.intention)}},"Save Intention")))):"0"===this.props.state.game.gameState[0]?r.a.createElement("div",null,""===this.state.userType&&null,"player"===this.props.state.user.userType&&r.a.createElement("div",null,r.a.createElement("h1",null,"Facilitator Login"),r.a.createElement("h5",null,"You do not need an account to play! Just join a game with a code provided to you by a licensed facilitator."),r.a.createElement("button",{onClick:function(){return e.props.dispatch({type:"SET_USER_TYPE",payload:"facilitator"})}},"Log in as facilitator")),"facilitator"===this.props.state.user.userType&&r.a.createElement("div",null,this.props.state.user.userReducer&&this.props.state.user.userReducer.is_facilitator?r.a.createElement("div",{className:"ActionPanel-Main"},r.a.createElement("h1",null,"Game Management"),r.a.createElement("h2",null,"Your Games"),r.a.createElement("div",{className:"select-container"},r.a.createElement("select",{onChange:this.selectGame},r.a.createElement("option",{value:null},"Select a Game"),this.props.state.games.map(function(e){return r.a.createElement("option",{key:e.id,value:e.id},e.name," Code: ",e.code)}))),r.a.createElement("br",null),r.a.createElement("button",{onClick:function(){return e.props.history.push("/admin")}},"Admin View"),r.a.createElement(it,null)):r.a.createElement("div",null,r.a.createElement("h1",null,"Facilitator Login"),r.a.createElement("form",{onSubmit:this.login},r.a.createElement("div",null,r.a.createElement("label",{htmlFor:"username"},"Username:",r.a.createElement("input",{type:"text",name:"username",value:this.state.username,onChange:this.handleInputChangeFor("username")}))),r.a.createElement("div",null,r.a.createElement("label",{htmlFor:"password"},"Password:",r.a.createElement("input",{type:"password",name:"password",value:this.state.password,onChange:this.handleInputChangeFor("password")}))),r.a.createElement("div",null,r.a.createElement("input",{className:"log-in",type:"submit",name:"submit",value:"Log In"}))),r.a.createElement("button",{onClick:function(){return e.props.dispatch({type:"SET_USER_TYPE",payload:"player"})}},"Back To Player Home")))):null,this.props.state.game.gameState[0]>0&&this.props.state.game.gameState[0]<6&&r.a.createElement("div",null,"0"==this.props.state.game.gameState[1]&&r.a.createElement("div",null,r.a.createElement("h1",null,"Round Intro"),r.a.createElement("h2",null,"Round: ",this.props.state.game.roundNumber)),"1"==this.props.state.game.gameState[1]&&r.a.createElement("div",null,r.a.createElement("h1",null,"Answer Card"),r.a.createElement("h2",null,"Round: ",this.props.state.game.roundNumber),this.props.state.user.userReducer&&this.props.state.user.userReducer.is_facilitator?r.a.createElement("div",null,r.a.createElement("ol",null,this.props.state.game.allPlayers.map(function(e){return r.a.createElement("li",{key:e.id},e.name," ready: ",e.in_discussion?r.a.createElement("p",null,"yes"):r.a.createElement("p",null,"no"))}))):r.a.createElement("div",null,r.a.createElement("textarea",{type:"text",placeholder:"Answer the question please",onChange:this.handleInputChangeFor("response")}),r.a.createElement("button",{onClick:function(){return e.props.editJournal(e.state.response)}},"Save"),r.a.createElement("button",{onClick:function(){e.props.editJournal(e.state.response),e.props.advanceToDiscussion(e.props.state.game.player.id)}},"Save and continue"))),"2"==this.props.state.game.gameState[1]&&r.a.createElement("div",null,r.a.createElement("h1",null,"Discussion Phase"),r.a.createElement("h2",null,"Round: ",this.props.state.game.roundNumber),this.props.state.user.userReducer&&this.props.state.user.userReducer.is_facilitator&&r.a.createElement("ol",null,r.a.createElement("h5",null,"Select a Player to speak"),this.props.state.game.allPlayers.map(function(t){if(t.in_discussion&&!t.discussed)return r.a.createElement("li",{key:t.id},"Name: ",t.name," ",!e.props.state.game.selectedPlayer.id&&r.a.createElement("button",{onClick:function(){return e.props.selectPlayer(t)}},"Select"))})),r.a.createElement("h2",null,"Spoken"),r.a.createElement("ol",null,this.props.state.game.allPlayers.map(function(e){if(!0===e.discussed)return r.a.createElement("li",{key:e.id},"Name: ",e.name)})))),"6"==this.props.state.game.gameState[0]&&r.a.createElement("div",null,r.a.createElement("h1",null,"Final Reflection"),this.props.state.user.userReducer&&this.props.state.user.userReducer.is_facilitator&&r.a.createElement(it,null))))}}]),t}(n.Component),wa=Object(qt.a)(Object(c.b)(function(e){return{state:e}})(ja)),_a=function(e){return{type:"UPDATE_GAME_STATE",payload:{newGameState:e.data.newGameState,fetchPlayers:e.data.resetDiscussion}}},Sa=function(e){return e.intention?{type:"UPDATE_INTENTION",payload:{intention:e.data.intention}}:{type:"UPDATE_JOURNAL_QUESTION",payload:{question:e.data.question,response:e.data.response,roundNumber:e.data.roundNumber,playerId:e.data.playerId}}},xa=function(e){var t=[],a={type:"FETCH_PLAYER",payload:e.data.id};t.push(a);var n={type:"FETCH_GAME",payload:e.game};t.push(n);var r={type:"FETCH_PLAYERS",payload:e.game};return t.push(r),t},ka=function(e){return{type:"SET_SELECTED_PLAYER",payload:{player:e.data.player}}},Ta=function(e){switch(e.type){case"advance":return _a(e);case"discussion":return ka(e);case"journal":return Sa(e);case"join":return xa(e)}},Na=function(e){function t(){var e,a;Object(Xe.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object($e.a)(this,(e=Object(et.a)(t)).call.apply(e,[this].concat(r)))).createGame=function(e){x()({method:"POST",data:{id:a.props.state.user.userReducer.id,gameConfig:e},url:"/game/start"}).then(function(e){a.props.dispatch({type:"FETCH_GAMES"})}).catch(function(e){console.log(e)})},a.facilitatorJoinGame=function(e){a.props.dispatch({type:"FETCH_GAME",payload:e.id}),(Ve=yt.a.connect("/".concat(e.code))).on("moves",function(e){try{var t=Ta(e);t.payload.fetchPlayers&&a.props.dispatch({type:"FETCH_PLAYERS",payload:a.props.state.game.game.id}),"advance"===e.type&&"0"!==e.data.newGameState[0]&&"6"!==e.data.newGameState[0]?("0"===e.data.newGameState[1]&&"1"!==e.data.newGameState[0]&&a.props.moveSphereBack(Number(a.props.state.game.roundNumber-1)),a.props.moveSphereForward(Number(a.props.state.game.roundNumber))):"advance"===e.type&&"6"===e.data.newGameState[0]&&a.props.moveSphereBack(Number(a.props.state.game.roundNumber-1)),a.props.dispatch(t)}catch(n){console.log("Error in moves handler",n)}}),Ve.on("players",function(e){a.props.dispatch({type:"FETCH_PLAYERS",payload:a.props.state.game.game.id})}),Ve.on("game",function(e){a.props.dispatch({type:"FETCH_GAMES"})}),Ve.on("chat",function(e){a.props.dispatch({type:"FETCH_CHAT",payload:a.props.state.game.game.id})}),a.props.dispatch({type:"REJOIN_GAME_FACILITATOR",payload:e.id}),a.props.dispatch({type:"SET_CODE",payload:e.code})},a.endGame=function(){var e=Object(Mt.a)(w.a.mark(function e(t){return w.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t&&Ve.emit("end",{done:!0}),e.next=3,x()({method:"POST",data:{id:a.props.state.user.userReducer.id},url:"/game/end"});case 3:setTimeout(function(){a.props.dispatch({type:"CLEAR_SELECT_GAME"}),a.props.dispatch({type:"FETCH_GAMES"})},1e3);case 4:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),a.advanceStage=function(e,t){Ve.emit("moves",{type:"advance",data:{newGameState:e,resetDiscussion:t},facilitatorId:a.props.state.user.userReducer.id})},a.editJournal=function(e){Ve.emit("moves",{type:"journal",intention:!1,data:{playerId:a.props.state.game.player.id,question:a.props.state.game.player.current_card,response:e,roundNumber:a.props.state.game.roundNumber}})},a.editIntention=function(e){Ve.emit("moves",{type:"journal",intention:!0,data:{playerId:a.props.state.game.player.id,intention:e}})},a.joinGame=function(e,t,n){try{(Ve=yt.a.connect("/".concat(t))).on("moves",function(e){try{var t=Ta(e);"advance"===e.type&&(a.props.dispatch({type:"UPDATE_ROUND_NUMBER",payload:e.data.newGameState[0]}),"0"!==e.data.newGameState[0]&&"6"!==e.data.newGameState[0]?("0"===e.data.newGameState[1]&&"1"!==e.data.newGameState[0]&&a.props.moveSphereBack(Number(a.props.state.game.roundNumber-1)),a.props.moveSphereForward(Number(a.props.state.game.roundNumber))):"6"===e.data.newGameState[0]&&a.props.moveSphereBack(Number(a.props.state.game.roundNumber-1))),t.payload.fetchPlayers&&a.props.dispatch({type:"FETCH_PLAYERS",payload:a.props.state.game.game.id}),a.props.dispatch(t)}catch(n){console.log("Error in moves handler",n)}}),Ve.on("start",function(e){console.log(e)}),Ve.on("join",function(e){var t=Ta(e);a.props.dispatch(t[0]),a.props.dispatch(t[1]),a.props.dispatch(t[2])}),Ve.on("end",function(){console.log("in end handler"),a.props.history.push("/results")}),Ve.on("players",function(e){a.props.dispatch({type:"FETCH_PLAYERS",payload:a.props.state.game.game.id}),a.props.dispatch({type:"FETCH_JOURNAL",payload:a.props.state.game.player.journal_id})}),Ve.on("chat",function(e){a.props.dispatch({type:"FETCH_CHAT",payload:a.props.state.game.game.id})}),Ve.on("player",function(e){a.props.dispatch({type:"FETCH_PLAYER",payload:a.props.state.game.player.id}),a.props.dispatch({type:"FETCH_JOURNAL",payload:a.props.state.game.player.journal_id})}),n?n&&a.props.dispatch({type:"REJOIN_GAME_PLAYER",payload:{code:t,name:e}}):Ve.emit("join",{type:"join",data:{name:e}}),a.props.dispatch({type:"SET_CODE",payload:t})}catch(r){console.log(r)}},a.calculateNextStage=function(e){if("0"===e){var t=Number(a.props.state.game.roundNumber),n=(t+=1).toString();return a.props.dispatch({type:"UPDATE_ROUND_NUMBER",payload:n}),n+e}return a.props.state.game.roundNumber+e},a.selectPlayer=function(e){Ve.emit("moves",{type:"discussion",data:{player:e,set:"next"},facilitatorId:a.props.state.user.userReducer.id})},a.markDone=function(e){Ve.emit("moves",{type:"discussion",data:{player:e,set:"done"},facilitatorId:a.props.state.user.userReducer.id}),a.props.dispatch({type:"CLEAR_SELECTED_PLAYER"})},a.dealCards=function(){Ve.emit("moves",{type:"deal",data:{roundNumber:a.props.state.game.roundNumber},facilitatorId:a.props.state.user.userReducer.id})},a.advanceToDiscussion=function(e){Ve.emit("moves",{type:"discussion",data:{player:e,set:"ready"}}),a.props.dispatch({type:"UPDATE_GAME_STATE",payload:{newGameState:a.calculateNextStage("2")}})},a.disconnectSocket=function(){var e=Object(Mt.a)(w.a.mark(function e(t){return w.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(a.props.state.user.userReducer.id){e.next=4;break}return t.preventDefault(),e.next=4,Ve.emit("leave",{id:a.props.state.game.player.id});case 4:window.removeEventListener("beforeunload",a.disconnectSocket);case 5:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),a.sendMessage=function(e){Ve.emit("chat",{message:e,type:"user",from:a.props.state.game.player.name||"Facilitator"})},a}return Object(tt.a)(t,e),Object(Ze.a)(t,[{key:"componentDidMount",value:function(){window.addEventListener("beforeunload",this.disconnectSocket),this.props.dispatch({type:"FETCH_DECKS"})}},{key:"render",value:function(){return r.a.createElement("div",{className:"game"},r.a.createElement(ya,{createGame:this.createGame}),r.a.createElement(wa,{editIntention:this.editIntention,editJournal:this.editJournal,advanceToDiscussion:this.advanceToDiscussion,selectPlayer:this.selectPlayer}),"0"===this.props.state.game.gameState[0]&&""!==this.props.state.gameCode?r.a.createElement(ra,{advanceStage:this.advanceStage,calculateNextStage:this.calculateNextStage}):"0"===this.props.state.game.gameState[0]?r.a.createElement(da,{advanceStage:this.advanceStage,joinGame:this.joinGame,facilitatorJoinGame:this.facilitatorJoinGame,endGame:this.endGame}):null,this.props.state.game.gameState[0]>0&&this.props.state.game.gameState[0]<6&&r.a.createElement(Kt,{advanceStage:this.advanceStage,calculateNextStage:this.calculateNextStage,markDone:this.markDone,dealCards:this.dealCards}),"6"==this.props.state.game.gameState[0]&&r.a.createElement(Vt,{advanceStage:this.advanceStage,endGame:this.endGame}),r.a.createElement(Ca,{sendMessage:this.sendMessage}))}}]),t}(n.Component),Aa=Object(qt.a)(Object(c.b)(function(e){return{state:e}})(Na)),Fa=function(e){function t(){return Object(Xe.a)(this,t),Object($e.a)(this,Object(et.a)(t).apply(this,arguments))}return Object(tt.a)(t,e),Object(Ze.a)(t,[{key:"componentDidMount",value:function(){this.props.dispatch({type:"FETCH_USER"})}},{key:"render",value:function(){return r.a.createElement(at.a,null,r.a.createElement("div",null,r.a.createElement(nt.a,null,r.a.createElement(rt.a,{exact:!0,from:"/",to:"/home/game"}),r.a.createElement(rt.a,{exact:!0,from:"/home",to:"/home/game"}),r.a.createElement(st.a,{exact:!0,path:"/home/game",render:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(dt,null,r.a.createElement(Aa,null)))}}),r.a.createElement(st.a,{exact:!0,path:"/cards",render:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(ct,null)," ",r.a.createElement(Nt,null)," ")}}),r.a.createElement(st.a,{exact:!0,path:"/admin",render:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(ct,null)," ",r.a.createElement(Pt,null)," ")}}),r.a.createElement(st.a,{path:"/results",component:Lt}),r.a.createElement(st.a,{render:function(){return r.a.createElement("h1",null,"404")}}))))}}]),t}(n.Component),Ra=Object(c.b)()(Fa),Ia=Object(l.a)(),Da=[Ia],Pa=Object(i.d)(C,i.a.apply(void 0,Da));Ia.run(Ke),o.a.render(r.a.createElement(c.a,{store:Pa,className:"overflowHidden"},r.a.createElement(Ra,null)),document.getElementById("react-root"))},50:function(e,t,a){},77:function(e,t,a){e.exports=a(149)}},[[77,1,2]]]);
//# sourceMappingURL=main.b40b2a1a.chunk.js.map